(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-624e"],{Og3Z:function(t,e,a){"use strict";a.r(e);var s=a("6ZY3"),l=a.n(s),n={data:function(){return{textarea:"",showModel:1,forMation:{},newTableData:[],formInline:{begin_date:""},formation:{beginTime:"",endTime:""},data:{},sale_amounts:[],page:1,total:0,per_page:10,remark:""}},created:function(){this.ajaxjson(),this.getData()},methods:{ajaxjson:function(){var t=this;this.$post(this.$cashHandoverHandOver).then(function(e){0==e.status_code?(t.data=e.data,t.sale_amounts=e.data.sale_amounts,t.formation.beginTime=e.data.begin_time,t.formation.endTime=e.data.end_time,t.getSaleInfo()):t.$message({type:"error",message:e.message})})},exportExcel:function(){var t=sessionStorage.getItem("shop_id");return this.$cashHandoverDxportSaleInfo+"?beginTime="+this.formation.beginTime+"&endTime="+this.formation.endTime+"&shop_id="+t},getData:function(){var t=new Date;return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+((t.getDate()<10?"0"+t.getDate():t.getDate())+" ")+(t.getHours()+":")+t.getMinutes()},openShowModel:function(){this.showModel=2},getSaleInfo:function(){var t=this,e=l()(this.formation,{page:this.page,per_page:this.per_page});this.$post(this.$cashHandoverSaleInfo,e).then(function(e){console.log(e),0==e.status_code?(t.table=e.data.data,t.total=e.data.total,t.per_page=e.data.per_page):t.$message({type:"error",message:e.message})})},handleSizeChange:function(t){this.per_page=t,this.getSaleInfo()},handleCurrentChange:function(t){this.page=t,this.getSaleInfo()},back:function(){this.showModel=1},exchange:function(){var t=this,e={beginTime:this.$getData(),remark:this.remark};this.$post(this.$cashHandoverDoHandOver,e).then(function(e){0==e.status_code?t.$store.dispatch("LogOut").then(function(){location.reload()}):t.$message({type:"error",message:e.message})})}}},i=(a("Vjpi"),a("ZrdR")),o=Object(i.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.showModel,expression:"showModel == 1"}],staticClass:"showModel"},[a("div",{staticClass:"title"},[a("el-row",{staticStyle:{"margin-top":"15px"}},[a("el-col",[a("el-button",{attrs:{type:"primary"},on:{click:t.exchange}},[a("svg-icon",{staticStyle:{"margin-right":"10px"},attrs:{"icon-class":"jiaoban"}}),t._v("交班")],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{staticStyle:{"margin-top":"20px"},attrs:{span:24}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,"label-width":"80px"},model:{value:t.formInline,callback:function(e){t.formInline=e},expression:"formInline"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"开始时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期","value-format":"yyyy-MM-dd:hh:mm:ss"},model:{value:t.formInline.begin_date,callback:function(e){t.$set(t.formInline,"begin_date",e)},expression:"formInline.begin_date"}})],1)],1)],1)],1)],1)],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{staticClass:"list1",attrs:{span:12}},[a("el-row",{staticClass:"content"},[a("p",{staticClass:"title"},[t._v("上班结存金额")]),t._v(" "),a("p",{staticClass:"title"},[a("span",{staticClass:"text"},[t._v(t._s(t.data.last_amount))]),t._v(" /元")])])],1),t._v(" "),a("el-col",{staticClass:"list2",attrs:{span:12}},[a("el-row",{staticClass:"content"},[a("p",{staticClass:"title"},[t._v("本班金额")]),t._v(" "),a("p",{staticClass:"title"},[a("span",{staticClass:"text"},[t._v(t._s(t.data.amount))]),t._v(" /元")])])],1)],1),t._v(" "),a("el-row",{staticStyle:{"margin-top":"15px"},attrs:{gutter:20}},[a("el-col",{staticClass:"list3",attrs:{span:8}},[a("el-row",{staticClass:"content"},[a("p",{staticClass:"title"},[t._v("上班结存/当前结存")]),t._v(" "),a("p",{staticClass:"title"},[a("span",{staticClass:"text"},[t._v(t._s(t.data.last_stock)+"/"+t._s(t.data.begin_stock))]),t._v(" /件")])])],1),t._v(" "),a("el-col",{staticClass:"list3",attrs:{span:8}},[a("el-row",{staticClass:"content"},[a("p",{staticClass:"title",attrs:{id:"openShowmodel2"},on:{click:t.openShowModel}},[t._v("本班进销数量")]),t._v(" "),a("p",{staticClass:"title"},[a("span",{staticClass:"text"},[t._v(t._s(t.data.sale_stock))]),t._v(" /件")])])],1),t._v(" "),a("el-col",{staticClass:"list4",attrs:{span:8}},[a("el-row",{staticClass:"content"},[a("p",{staticClass:"title"},[t._v("本班结存数量")]),t._v(" "),a("p",{staticClass:"title"},[a("span",{staticClass:"text"},[t._v(t._s(t.data.stock))]),t._v(" /元")])])],1)],1),t._v(" "),a("el-row",{staticClass:"elsesum"},[a("el-col",{staticClass:"title",attrs:{span:24}},[t._v("\n\t\t\t\t\t其他费用汇总\n\t\t\t\t")]),t._v(" "),a("el-col",{staticClass:"list",attrs:{span:12}},[t._v("\n\t\t\t\t\t其他收入：￥"+t._s(t.data.other_income)+"\n\t\t\t\t")]),t._v(" "),a("el-col",{staticClass:"list",attrs:{span:12}},[t._v("\n\t\t\t\t\t其他支出：￥"+t._s(t.data.other_outcome)+"\n\t\t\t\t")])],1),t._v(" "),a("el-row",{staticClass:"paymentSummary"},[a("el-col",{staticClass:"title"},[t._v("\n\t\t\t\t\t收支汇总\n\t\t\t\t")])],1),t._v(" "),a("el-row",{staticClass:"elsething"},[a("el-col",{staticClass:"title",attrs:{span:24}},[t._v("\n\t\t\t\t\t其他交班事项\n\t\t\t\t")]),t._v(" "),a("el-col",{attrs:{span:24}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入内容"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.showModel,expression:"showModel == 2"}],staticClass:"tab-container"},[a("el-row",{staticClass:"model_title"},[a("el-col",{staticStyle:{"border-left":"#13C2C2 3px solid","padding-left":"15px"},attrs:{span:12}},[t._v("\n\t\t\t\t\t本班进销数量\n\t\t\t\t")]),t._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[a("el-button",{attrs:{type:"text",name:"topRightCancel"},on:{click:t.back}},[a("svg-icon",{attrs:{"icon-class":"cancel"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"title"},[a("el-row",[a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:24}},[a("a",{attrs:{href:t.exportExcel()}},[a("el-button",{attrs:{type:"primary"}},[t._v("\n\t\t\t\t\t\t\t\t导出\n\t\t\t\t\t\t\t")])],1)])],1)],1),t._v(" "),a("div",{staticClass:"search1"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formation,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"开始日期"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd hh:mm",placeholder:"选择日期",disabled:""},model:{value:t.formation.beginTime,callback:function(e){t.$set(t.formation,"beginTime",e)},expression:"formation.beginTime"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"结束日期"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd hh:mm",placeholder:"选择日期",disabled:""},model:{value:t.formation.endTime,callback:function(e){t.$set(t.formation,"endTime",e)},expression:"formation.endTime"}})],1)],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"tTable"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.newTableData,stripe:"",border:"",size:"mini"}},[a("el-table-column",{attrs:{type:"index",label:"序号",fixed:"",width:"50",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"barcode",label:"条形码",fixed:"",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goods_name",label:"商品规格名称",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"数量",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:"small",placeholder:"",align:"center"},on:{blur:function(a){t.multiply(e.row)}},model:{value:e.row.stock,callback:function(a){t.$set(e.row,"stock",a)},expression:"scope.row.stock"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"吊牌价",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"discount",label:"折扣",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unit_price",label:"采购价",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"total_price",label:"小计",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200",fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(e){t.deleteAdd()}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"block",staticStyle:{"margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[10,20,30,40],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])},[],!1,null,"374591a1",null);o.options.__file="cashierWatch.vue";e.default=o.exports},Vjpi:function(t,e,a){"use strict";var s=a("xT1X");a.n(s).a},xT1X:function(t,e,a){}}]);