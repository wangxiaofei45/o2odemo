(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6ea7"],{LGBQ:function(e,t,a){"use strict";var o=a("ToIk");a.n(o).a},QPvl:function(e,t,a){"use strict";var o=a("lRR3");a.n(o).a},ToIk:function(e,t,a){},h53u:function(e,t,a){"use strict";a.r(t);var o={data:function(){return{permission:[],search:"",showModel:!1,formInline:{document_num:"",startTime:"",endTime:"",Freightnumber:""},accountFrom:{document_num:"",storage_date:"",cost_name:"",join_code:"",remark:"",cost_money:""},amendInfo:{},ruleaccountFrom:{cost_name:[{required:!0,message:"费用名称为空",trigger:"blur"}],cost_money:[{required:!0,message:"费用金额为空",trigger:"blur"}]},data:[],PutInStorageModel:!1,amendModel:!1,page:1,total:0,per_page:10}},created:function(){this.ajaxjson();var e=sessionStorage.getItem("permission").split(",");this.permission=e},methods:{ajaxjson:function(){var e=this,t={page:this.page,per_page:this.per_page};this.$post(this.$otherCostList,t).then(function(t){if(0==t.status_code){var a=t.data.data;e.data=a,e.total=t.data.total,e.per_page=t.data.per_page}else e.$message({type:"error",message:t.message})})},AddOtherCost:function(e){var t=this;this.$refs[e].validate(function(a){if(!a)return console.log("error submit!!"),!1;var o=t.$objDeepCopy(t.accountFrom);o.cost_money=100*Number(o.cost_money)+"",t.$post(t.$otherCostAddDisburseCost,o).then(function(a){var o=a;0==o.status_code?(t.$message({type:"success",message:o.message}),t.ajaxjson(),t.PutInStorageModel=!1,t.$refs[e].resetFields()):t.$message({type:"error",message:o.message})})})},deletes:function(e){var t={id:e+""};this.$delete(this.$otherCostDelDisburseCost,t)},goToEditor:function(e){var t=this.$objDeepCopy(e);t.dateTime=this.$formatTimestamp(t.created_at),this.amendInfo=t,this.amendModel=!0},amend:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var a=t.$objDeepCopy(t.amendInfo);t.$post(t.$otherCostEditDisburse,a).then(function(e){var a=e;0==a.status_code?(t.$message({type:"success",message:a.message}),t.ajaxjson(),t.amendModel=!1):t.$message({type:"error",message:a.message})})})},handleSizeChange:function(e){this.per_page=e,this.getSaleInfo()},handleCurrentChange:function(e){this.page=e,this.getSaleInfo()},indexMethod:function(e){return(this.page-1)*this.per_page+e+1},closeAnAbccount:function(){var e=this;this.$post(this.$storageGetBarCode,{code:153}).then(function(t){0==t.status_code?(e.accountFrom.document_num=t.data.document_num,e.PutInStorageModel=!0):e.$message({type:"error",message:t.message})}),this.accountFrom.storage_date=this.$getData()},getSupplierCommonSupplierList:function(){var e=this;this.$post(this.$supplierCommonSupplierList).then(function(t){0==t.status_code?e.SupplierCommonSupplierList=t.data:e.$message({type:"error",message:t.message})})},cancelPutInStorage:function(e){this.$refs[e].resetFields(),this.PutInStorageModel=!1},cancelAmend:function(){this.amendModel=!1},resetForm:function(){this.formInline={document_num:"",startTime:"",endTime:"",supplier_id:"",user_id:"",status:2},this.ajaxjson()}}},n=(a("LGBQ"),a("QPvl"),a("ZrdR")),s=Object(n.a)(o,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"tab-container"},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-width":"80px",inline:!0},model:{value:e.formInline,callback:function(t){e.formInline=t},expression:"formInline"}},[a("div",{staticClass:"title"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:-1!=e.permission.indexOf("159"),expression:"permission.indexOf('159') != -1"}],staticStyle:{"margin-right":"20px"},attrs:{type:"primary"},on:{click:e.closeAnAbccount}},[a("svg-icon",{staticStyle:{"margin-right":"10px"},attrs:{"icon-class":"add"}}),e._v(" "),a("span",[e._v("新增")])],1),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-right":"20px"},attrs:{placeholder:"输入单据号"},model:{value:e.formInline.document_num,callback:function(t){e.$set(e.formInline,"document_num",t)},expression:"formInline.document_num"}},[a("el-button",{staticStyle:{"background-color":"#e0e0e0","border-radius":"0px"},attrs:{slot:"append",type:"primary"},on:{click:e.ajaxjson},slot:"append"},[a("svg-icon",{staticStyle:{"margin-right":"5px"},attrs:{"icon-class":"icon_search"}}),a("span",[e._v("搜索")])],1)],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showModel=!e.showModel}}},[a("svg-icon",{staticStyle:{"margin-right":"10px"},attrs:{"icon-class":"filter"}}),e._v(" "),a("span",[e._v("筛选订单")])],1)],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showModel,expression:"showModel"}],staticClass:"search"},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"开始日期"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.formInline.startTime,callback:function(t){e.$set(e.formInline,"startTime",t)},expression:"formInline.startTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"结束日期"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.formInline.endTime,callback:function(t){e.$set(e.formInline,"endTime",t)},expression:"formInline.endTime"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"费用名称"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},model:{value:e.formInline.cost_name,callback:function(t){e.$set(e.formInline,"cost_name",t)},expression:"formInline.cost_name"}})],1)],1),e._v(" "),a("el-col",{staticClass:"bottomButton",staticStyle:{"text-align":"center"},attrs:{span:24}},[a("el-button",{attrs:{name:"cancel"},on:{click:e.resetForm}},[e._v("清空")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.ajaxjson}},[e._v("确定")])],1)],1)],1)]),e._v(" "),a("div",{staticClass:"tTable"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data,stripe:"",border:"",size:"mini"}},[a("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"序号",fixed:"",width:"50",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"document_num",label:"单据号",fixed:"",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[-1!=e.permission.indexOf("237")?a("span",{staticStyle:{color:"#18CCBA",cursor:"pointer"},on:{click:function(a){e.goToEditor(t.row)}}},[e._v(e._s(t.row.document_num))]):a("span",{staticStyle:{color:"#18CCBA",cursor:"pointer"}},[e._v(e._s(t.row.document_num))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"单据日期",fixed:"",width:"180",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cost_name",label:"费用名称",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"supplier",label:"关联单号",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cost_money",label:"金额",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.cost_money/100))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"user_name",label:"制单人"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:-1!=e.permission.indexOf("160"),expression:"permission.indexOf('160') != -1"}],attrs:{type:"danger",size:"mini"},on:{click:function(a){e.deletes(t.row.id)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"block",staticStyle:{"margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[10,20,30,40],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.PutInStorageModel,expression:"PutInStorageModel"}],staticClass:"model"},[a("div",{staticClass:"model_con"},[a("el-row",{staticClass:"model_title"},[a("el-col",{staticStyle:{"border-left":"#13C2C2 3px solid","padding-left":"15px"},attrs:{span:12}},[e._v("\n\t\t\t\t\t新增\n\t\t\t\t")]),e._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[a("el-button",{attrs:{type:"text",name:"topRightCancel"},on:{click:function(t){e.cancelPutInStorage("accountFrom")}}},[a("svg-icon",{attrs:{"icon-class":"cancel"}})],1)],1)],1),e._v(" "),a("el-form",{ref:"accountFrom",staticClass:"demo-form-inline",attrs:{"label-width":"90px",model:e.accountFrom,rules:e.ruleaccountFrom}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单据号"}},[a("el-input",{attrs:{placeholder:"",disabled:""},model:{value:e.accountFrom.document_num,callback:function(t){e.$set(e.accountFrom,"document_num",t)},expression:"accountFrom.document_num"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"日期"}},[a("el-date-picker",{attrs:{type:"dateTime",placeholder:"选择日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.accountFrom.storage_date,callback:function(t){e.$set(e.accountFrom,"storage_date",t)},expression:"accountFrom.storage_date"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"费用名称",prop:"cost_name"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.accountFrom.cost_name,callback:function(t){e.$set(e.accountFrom,"cost_name",t)},expression:"accountFrom.cost_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"关联单据号"},model:{value:e.accountFrom.join_code,callback:function(t){e.$set(e.accountFrom,"join_code",t)},expression:"accountFrom.join_code"}},[a("el-input",{attrs:{placeholder:"请输入"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"金额",prop:"cost_money"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.accountFrom.cost_money,callback:function(t){e.$set(e.accountFrom,"cost_money",t)},expression:"accountFrom.cost_money"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.accountFrom.remark,callback:function(t){e.$set(e.accountFrom,"remark",t)},expression:"accountFrom.remark"}})],1)],1)],1),e._v(" "),a("el-row",{staticClass:"bottom bottomButton"},[a("el-col",{attrs:{span:24}},[a("el-button",{attrs:{name:"cancel"},on:{click:function(t){e.cancelPutInStorage("accountFrom")}}},[e._v("\n\t\t\t\t\t\t\t取消\n\t\t\t\t\t\t")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.AddOtherCost("accountFrom")}}},[e._v("\n\t\t\t\t\t\t\t保存\n\t\t\t\t\t\t")])],1)],1)],1)],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.amendModel,expression:"amendModel"}],staticClass:"model"},[a("div",{staticClass:"model_con"},[a("el-row",{staticClass:"model_title"},[a("el-col",{staticStyle:{"border-left":"#13C2C2 3px solid","padding-left":"15px"},attrs:{span:12}},[e._v("\n\t\t\t\t\t编辑\n\t\t\t\t")]),e._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[a("el-button",{attrs:{type:"text",name:"topRightCancel"},on:{click:e.cancelAmend}},[a("svg-icon",{attrs:{"icon-class":"cancel"}})],1)],1)],1),e._v(" "),a("el-form",{ref:"amendInfo",staticClass:"demo-form-inline",attrs:{"label-width":"90px",model:e.amendInfo,rules:e.ruleaccountFrom}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单据号"}},[a("el-input",{attrs:{placeholder:"",disabled:""},model:{value:e.amendInfo.document_num,callback:function(t){e.$set(e.amendInfo,"document_num",t)},expression:"amendInfo.document_num"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"日期"}},[a("el-date-picker",{attrs:{type:"dateTime",placeholder:"选择日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.amendInfo.storage_date,callback:function(t){e.$set(e.amendInfo,"storage_date",t)},expression:"amendInfo.storage_date"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"费用名称",prop:"cost_name"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.amendInfo.cost_name,callback:function(t){e.$set(e.amendInfo,"cost_name",t)},expression:"amendInfo.cost_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"关联单据号"},model:{value:e.amendInfo.join_code,callback:function(t){e.$set(e.amendInfo,"join_code",t)},expression:"amendInfo.join_code"}},[a("el-input",{attrs:{placeholder:"请输入"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"金额",prop:"cost_money"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.amendInfo.cost_money,callback:function(t){e.$set(e.amendInfo,"cost_money",t)},expression:"amendInfo.cost_money"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.amendInfo.remark,callback:function(t){e.$set(e.amendInfo,"remark",t)},expression:"amendInfo.remark"}})],1)],1)],1),e._v(" "),a("el-row",{staticClass:"bottom bottomButton"},[a("el-col",{attrs:{span:24}},[a("el-button",{attrs:{name:"cancel"},on:{click:e.cancelAmend}},[e._v("\n\t\t\t\t\t\t\t取消\n\t\t\t\t\t\t")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.amend("amendInfo")}}},[e._v("\n\t\t\t\t\t\t\t保存\n\t\t\t\t\t\t")])],1)],1)],1)],1)])])},[],!1,null,"4d0bdb27",null);s.options.__file="Otherbillsofpayment.vue";t.default=s.exports},lRR3:function(e,t,a){}}]);