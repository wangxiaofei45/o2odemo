(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1ca7"],{"/BDB":function(e,t,a){"use strict";var s=a("/pkY");a.n(s).a},"/pkY":function(e,t,a){},OCP2:function(e,t,a){"use strict";var s=a("vkNJ");a.n(s).a},pICS:function(e,t,a){"use strict";a.r(t);var s=a("omC7"),i=a.n(s),n=a("6ZY3"),o=a.n(n),r={data:function(){return{canChangeselectSupplier:!1,permission:[],page:1,total:0,per_page:10,is_load:0,prid:"",typeAndBarCode:{type:"",bar_code:""},search:"",Loadthwarehousereceipt:"",isShow:1,fromAndSave:!1,formInline:{startDate:"",endDate:"",cbid:"",user_id:"",status:100,document_num:""},forMation:{},editVisible:!1,data:[],supplierCommonSupplierList:[],currentVendor:{},newTableData:[],color:[],size:[],sku_data:[],open_new_rult:!1,specificationOfGoods:[{color:"",size:"",stock:"",total_price:""}],returnedGoodsId:"",Loadwarehousereceiptmodel:!1,selectData:[],multipleSelection:[],join_order_sn:"",cbid:0,user_name:"",searchModel:!1,StaticGetBillingUser:[]}},created:function(){this.ajaxjson(),this.getStaticGetBillingUser(),this.getSupplierCommonSupplierList();var e=sessionStorage.getItem("permission").split(",");this.permission=e},methods:{ajaxjson:function(){var e=this,t=o()(this.formInline,{page:this.page,per_page:this.per_page});this.$post(this.$purchasereturnList,t).then(function(t){0==t.status_code?(e.data=t.data.data,e.total=t.data.total,e.per_page=t.data.per_page):e.$message({type:"error",message:t.message})})},getStaticGetBillingUser:function(){var e=this,t={shop_id:sessionStorage.getItem("shop_id")};this.$post(this.$staticGetBillingUser,t).then(function(t){0==t.status_code&&(e.StaticGetBillingUser=t.data.user_list)})},getSupplierCommonSupplierList:function(){var e=this;this.$post(this.$supplierCommonSupplierList).then(function(t){0==t.status_code&&(e.supplierCommonSupplierList=t.data)})},selectSupplier:function(e){for(var t=0;t<this.supplierCommonSupplierList.length;t++)e==this.supplierCommonSupplierList[t].id&&(this.currentVendor=this.supplierCommonSupplierList[t])},Loadwarehousereceipt:function(){var e=this;this.is_load=1;var t={document_num:this.Loadthwarehousereceipt};this.$post(this.$purchasereturnLoad,t).then(function(t){if(0==t.status_code){e.join_order_sn=t.data.document_num,e.currentVendor.id=t.data.supplier_id,e.cbid=t.data.supplier_id,e.user_name=t.data.supplier_name;for(var a=t.data.data,s=0;s<a.length;s++)a[s].barcode=a[s].bar_code,delete a[s].bar_code,a[s].goods_name=a[s].norm,delete a[s].norm,a[s].stock=1,delete a[s].total_num,a[s].discount=a[s].discount/100,a[s].price=a[s].tag_price/100,delete a[s].tag_price,a[s].unit_price=a[s].singleton/100,delete a[s].singleton,a[s].total_price=a[s].count_money/100,delete a[s].count_money,delete a[s].created_at,delete a[s].pur_id,delete a[s].return_number,delete a[s].updated_at;e.selectData=a,e.Loadwarehousereceiptmodel=!0}else e.$message({type:"error",message:t.message})})},handleSelectionChange:function(e){this.multipleSelection=e},determineLoad:function(){var e=this;this.Loadwarehousereceiptmodel=!1,this.newTableData=this.multipleSelection,this.canChangeselectSupplier=!0;var t={is_load:this.is_load};this.$post(this.$purchasereturnAdd,t).then(function(t){0==t.status_code?(e.prid=t.data.prid,e.isShow=2,e.purchasereturnInfo(e.prid)):e.$message({type:"error",message:t.message})})},purchasereturnAdd:function(){var e=this,t={is_load:this.is_load};this.$post(this.$purchasereturnAdd,t).then(function(t){0==t.status_code?(e.prid=t.data.prid,e.isShow=2,e.purchasereturnInfo(e.prid),e.canChangeselectSupplier=!1):e.$message({type:"error",message:t.message})})},purchasereturnInfo:function(e){var t=this,a={id:e};this.$post(this.$purchasereturnInfo,a).then(function(e){0==e.status_code?(t.forMation=e.data,t.forMation.join_order_sn=t.join_order_sn,t.user_name&&(t.forMation.cbid=t.cbid,t.forMation.user_name=t.user_name)):t.$message({type:"error",message:e.message})})},goToSeeOrModify:function(e){var t=this;if(console.log(e),0==e.is_pass){var a={id:e.id};this.$post(this.$purchasereturnInfo,a).then(function(e){0==e.status_code&&(t.currentVendor.id=e.data.cbid,t.forMation=e.data,t.isShow=2,t.newTableData=e.data.goodsData)})}else console.log("查看")},addgoods:function(){var e=this;if(this.currentVendor.id){var t=this.typeAndBarCode;1==t.type?this.$post(this.$staticGetCodeGoods,t).then(function(t){if(0==t.status_code){var a=t.data;a.stock="",a.discount=e.currentVendor.discounts/100,a.price=a.sku_price/100,a.unit_price=a.price*a.discount,a.goods_name=a.goods_name+"|"+a.specnamestr;for(var s=!0,i=0;i<e.newTableData.length;i++)a.barcode==e.newTableData[i].barcode&&(s=!1);s?e.newTableData.push(a):e.$message({type:"error",message:"您已经添加过该商品了"})}else e.$message({type:"error",message:t.message})}):2==t.type&&this.$post(this.$staticGetCodeGoods,t).then(function(t){0==t.status_code?(e.color=t.data.sale_attrs[0].data,e.size=t.data.sale_attrs[1].data,e.sku_data=t.data.sku_data,e.open_new_rult=!0):e.$message({type:"error",message:t.message})})}else this.$message({type:"error",message:"请先选择供应商"})},sureColor:function(e,t,a){if(t.size){for(var s=!0,i=t.color+"|"+t.size,n=0;n<this.specificationOfGoods.length;n++)this.specificationOfGoods[n].specnamestr==i&&(s=!1);if(s)for(var r=0;r<this.sku_data.length;r++)return void(this.sku_data[r].specnamestr==i&&((t=o()(t,this.sku_data[r])).discount=this.currentVendor.discounts/100,t.price=t.sku_price/100,t.unit_price=t.price*t.discount));else this.$message({type:"error",message:"您已添加过该商品,请勿重复添加!"})}},sureSize:function(e,t,a){if(t.color){for(var s=!0,i=t.color+"|"+t.size,n=0;n<this.specificationOfGoods.length;n++)this.specificationOfGoods[n].specnamestr==i&&(s=!1);if(s)for(var r=0;r<this.sku_data.length;r++)this.sku_data[r].specnamestr==i&&((t=o()(t,this.sku_data[r])).discount=this.currentVendor.discounts/100,t.price=t.sku_price/100,t.unit_price=t.price*t.discount);else this.$message({type:"error",message:"您已添加过该商品,请勿重复添加!"})}},addRow:function(e){if(e.sku_price){this.specificationOfGoods.push({color:"",size:"",stock:"",total_price:""})}else this.$message({type:"error",message:"请先完善该条信息!"})},reduceRow:function(e){this.specificationOfGoods.splice(e,1)},cancel_new_rult:function(){this.open_new_rult=!1},sureAddNext:function(){var e=this.$coppyArray(this.specificationOfGoods),t=this.$coppyArray(this.newTableData),a=[];this.specificationOfGoods=[{color:"",size:"",stock:"",total_price:""}];for(var s=0;s<e.length;s++)if(e[s].goods_name=e[s].goods_name+"|"+e[s].specnamestr,delete e[s].color,delete e[s].size,delete e[s].specnamestr,0==t.length)a.push(e[s]);else for(var i=0;i<t.length;i++)e[s].sku_id==t[i].sku_id?t[i].stock=Number(t[i].stock)+Number(e[s].stock):a.push(e[s]);this.newTableData=t.concat(a)},saveNotAudit:function(){var e=this,t=this.$coppyArray(this.newTableData),a={id:this.prid,cbid:this.currentVendor.id,abstract:"",join_order_sn:this.join_order_sn,goodsData:i()(t)};this.$post(this.$purchasereturnModify,a).then(function(t){0==t.status_code?(e.$message({type:"success",message:t.message}),e.isShow=1,e.ajaxjson()):e.$message({type:"error",message:t.message})})},returnedGoods:function(e){this.returnedGoodsId=e,this.fromAndSave=!0},sureSave:function(){var e=this,t={id:this.returnedGoodsId};this.$post(this.$purchasereturnAudit,t).then(function(t){console.log(t),0==t.status_code?(e.$message({type:"success",message:t.message}),e.fromAndSave=!1,e.ajaxjson()):e.$message({type:"error",message:t.message})})},cancelSave:function(){this.fromAndSave=!1},handleDelete:function(e){console.log(e);var t={id:e};this.$delete(this.$purchasereturnDelete,t)},handleSizeChange:function(e){this.per_page=e,this.ajaxjson()},handleCurrentChange:function(e){this.page=e,this.ajaxjson()},indexMethod:function(e){return(this.page-1)*this.per_page+e+1},getSummaries:function(e){var t=e.columns,a=e.data,s=[],i=[];return t.forEach(function(e,t){0!==t?("total_price"===e.property&&(i=a.map(function(e){return Number(e.total_price)})),"stock"===e.property&&(i=a.map(function(e){return Number(e.stock)})),"total_price"==e.property||"stock"==e.property?(s[t]=i.reduce(function(e,t){var a=Number(t);return isNaN(a)?e:e+t},0),s[t]+=""):s[t]="--"):s[t]="合计"}),s[5]=s[5]/100,s},resetForm:function(e){this.formInline={startDate:"",endDate:"",cbid:"",user_id:"",status:100},this.ajaxjson()},back_PurchseMan:function(){this.isShow=1,this.newTableData=[];console.log(this.forMation),this.forMation={document_num:"",created_at:"",join_order_sn:"",cbid:"",abstract:"",user_id:""}},deleteAdd:function(e){this.newTableData.splice(e,1)},openSave:function(){this.fromAndSave=!0},multiply:function(e,t,a){var s=Number(t.stock)*t.unit_price*100;t.total_price=Math.round(s)/100,this.newTableData.splice(a,t)}}},l=(a("OCP2"),a("/BDB"),a("ZrdR")),c=Object(l.a)(r,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.isShow,expression:"isShow == 1"}],staticClass:"tab-container"},[a("div",{staticClass:"title"},[a("el-row",[a("el-col",[a("el-button",{directives:[{name:"show",rawName:"v-show",value:-1!=e.permission.indexOf("226"),expression:"permission.indexOf('226') != -1"}],staticStyle:{"margin-right":"20px"},attrs:{type:"primary"},on:{click:e.purchasereturnAdd}},[a("svg-icon",{staticStyle:{"margin-right":"10px"},attrs:{"icon-class":"add"}}),e._v(" "),a("span",[e._v("新增")])],1),e._v(" "),a("el-input",{directives:[{name:"show",rawName:"v-show",value:-1!=e.permission.indexOf("231"),expression:"permission.indexOf('231') != -1"}],staticStyle:{width:"240px","margin-right":"20px"},attrs:{placeholder:"载入入库单"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.Loadwarehousereceipt(t):null}},model:{value:e.Loadthwarehousereceipt,callback:function(t){e.Loadthwarehousereceipt=t},expression:"Loadthwarehousereceipt"}}),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-right":"20px"},attrs:{placeholder:"输入单据号"},model:{value:e.formInline.document_num,callback:function(t){e.$set(e.formInline,"document_num",t)},expression:"formInline.document_num"}},[a("el-button",{staticStyle:{"background-color":"#e0e0e0","border-radius":"0px"},attrs:{slot:"append",type:"primary"},on:{click:e.ajaxjson},slot:"append"},[a("svg-icon",{staticStyle:{"margin-right":"5px"},attrs:{"icon-class":"icon_search"}}),a("span",[e._v("搜索")])],1)],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchModel=!e.searchModel}}},[a("svg-icon",{staticStyle:{"margin-right":"10px"},attrs:{"icon-class":"filter"}}),e._v(" "),a("span",[e._v("筛选订单")])],1)],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.searchModel,expression:"searchModel"}],staticClass:"search"},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-width":"80px",inline:!0},model:{value:e.formInline,callback:function(t){e.formInline=t},expression:"formInline"}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"开始时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.formInline.startDate,callback:function(t){e.$set(e.formInline,"startDate",t)},expression:"formInline.startDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"结束时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.formInline.endDate,callback:function(t){e.$set(e.formInline,"endDate",t)},expression:"formInline.endDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"供应商"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formInline.cbid,callback:function(t){e.$set(e.formInline,"cbid",t)},expression:"formInline.cbid"}},e._l(e.supplierCommonSupplierList,function(e,t){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"制单人"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formInline.user_id,callback:function(t){e.$set(e.formInline,"user_id",t)},expression:"formInline.user_id"}},e._l(e.StaticGetBillingUser,function(e,t){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"单据状态"}},[a("el-radio-group",{model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},[a("el-radio",{attrs:{label:100}},[e._v("所有")]),e._v(" "),a("el-radio",{attrs:{label:1}},[e._v("已退货")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("未退货")])],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{align:"center"}},[a("el-form-item",{attrs:{label:" ",align:"center"}},[a("el-button",{attrs:{name:"cancel"},on:{click:e.resetForm}},[e._v("清空")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.ajaxjson}},[e._v("确定")])],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"tTable"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data,stripe:"",border:"","show-summary":"","summary-method":e.getSummaries,size:"mini"}},[a("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"序号",fixed:"",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"document_num",label:"单据号",fixed:"",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[-1!=e.permission.indexOf("227")?a("span",{staticStyle:{color:"#18CCBA",cursor:"pointer"},on:{click:function(a){e.goToSeeOrModify(t.row)}}},[e._v(e._s(t.row.document_num))]):a("span",{staticStyle:{color:"#18CCBA",cursor:"pointer"}},[e._v(e._s(t.row.document_num))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"单据日期",width:"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cb_name",label:"供应商",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"总数量",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"total_price",label:"总金额",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.total_price/100))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"is_pass",label:"单据状态",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.is_pass?a("span",{attrs:{type:"text"}},[e._v("未退货")]):e._e(),e._v(" "),1==t.row.is_pass?a("span",{attrs:{type:"text"}},[e._v("已退货")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"user_name",label:"制单人"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200",fixed:"right",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return 0==t.row.is_pass?[a("el-button",{directives:[{name:"show",rawName:"v-show",value:-1!=e.permission.indexOf("229"),expression:"permission.indexOf('229') != -1"}],attrs:{size:"mini",type:"warning"},on:{click:function(a){e.returnedGoods(t.row.id)}}},[e._v("退货")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:-1!=e.permission.indexOf("230"),expression:"permission.indexOf('230') != -1"}],attrs:{size:"mini",type:"danger"},on:{click:function(a){e.handleDelete(t.row.id)}}},[e._v("删除")])]:void 0}}])})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.Loadwarehousereceiptmodel,expression:"Loadwarehousereceiptmodel"}],staticClass:"model"},[a("div",{staticClass:"model_con"},[a("el-row",{staticClass:"model_title"},[a("el-col",{staticStyle:{"border-left":"#13C2C2 3px solid","padding-left":"15px"},attrs:{span:12}},[e._v("\n\t\t\t\t\t\t入库单\n\t\t\t\t\t")]),e._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[a("el-button",{staticStyle:{padding:"0px"},attrs:{type:"text"},on:{click:e.cancel_new_rult}},[a("svg-icon",{attrs:{"icon-class":"cancel"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"oTable",staticStyle:{"margin-top":"20px"}},[a("el-table",{attrs:{data:e.selectData,stripe:"",border:"","max-height":"450",size:"mini",border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"barcode",label:"条形码",fixed:"",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称规格",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"数量",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"吊牌价",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"discount",label:"折扣",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"unit_price",label:"采购价",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"total_price",label:"小计",align:"center"}})],1)],1),e._v(" "),a("el-row",[a("el-col",{staticClass:"bottomButton",staticStyle:{"margin-top":"20px","text-align":"right"},attrs:{span:24}},[a("el-button",{attrs:{name:"cancel"},on:{click:e.cancel_new_rult}},[e._v("取消")]),e._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"30px"},attrs:{type:"primary"},on:{click:e.determineLoad}},[e._v("确定")])],1)],1)],1)]),e._v(" "),a("div",{staticClass:"block",staticStyle:{"margin-top":"15px"}},[a("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[10,20,30,40],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.isShow,expression:"isShow == 2"}],staticClass:"tab-container"},[a("el-row",{staticClass:"model_title"},[a("el-col",{staticStyle:{"border-left":"#13C2C2 3px solid","padding-left":"15px"},attrs:{span:12}},[e._v("\n\t\t\t\t新增采购退货单\n\t\t\t")]),e._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[a("el-button",{staticStyle:{padding:"0px"},attrs:{type:"text"},on:{click:e.back_PurchseMan}},[a("svg-icon",{attrs:{"icon-class":"cancel"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"title"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:-1!=e.permission.indexOf("226"),expression:"permission.indexOf('226') != -1"}],attrs:{type:"primary"},on:{click:e.saveNotAudit}},[a("svg-icon",{staticStyle:{"margin-right":"10px"},attrs:{"icon-class":"icon_save"}}),e._v(" "),a("span",[e._v("保存")])],1),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:-1!=e.permission.indexOf("229"),expression:"permission.indexOf('229') != -1"}],attrs:{type:"primary"},on:{click:e.openSave}},[a("svg-icon",{staticStyle:{"margin-right":"10px"},attrs:{"icon-class":"goodsReturn"}}),e._v(" "),a("span",[e._v("退货")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"search1"},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-width":"80px",inline:!0,model:e.forMation}},[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"单据号"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"",disabled:""},model:{value:e.forMation.document_num,callback:function(t){e.$set(e.forMation,"document_num",t)},expression:"forMation.document_num"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"日期"}},[a("el-date-picker",{attrs:{type:"date",disabled:"",placeholder:"选择日期"},model:{value:e.forMation.created_at,callback:function(t){e.$set(e.forMation,"created_at",t)},expression:"forMation.created_at"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"入库单号"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"",disabled:""},model:{value:e.forMation.join_order_sn,callback:function(t){e.$set(e.forMation,"join_order_sn",t)},expression:"forMation.join_order_sn"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"供应商"}},[a("el-select",{staticStyle:{width:"220px"},attrs:{placeholder:"请选择",disabled:e.canChangeselectSupplier},on:{change:e.selectSupplier},model:{value:e.forMation.cbid,callback:function(t){e.$set(e.forMation,"cbid",t)},expression:"forMation.cbid"}},e._l(e.supplierCommonSupplierList,function(e,t){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"摘要"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"请输入"},model:{value:e.forMation.abstract,callback:function(t){e.$set(e.forMation,"abstract",t)},expression:"forMation.abstract"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"制单人"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.forMation.user_id,callback:function(t){e.$set(e.forMation,"user_id",t)},expression:"forMation.user_id"}},e._l(e.StaticGetBillingUser,function(e,t){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1)],1)],1)],1),e._v(" "),a("el-row",{staticClass:"search2",staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{type:"text"}})],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[a("el-input",{staticClass:"input-with-select",staticStyle:{width:"400px"},attrs:{placeholder:"请输入内容"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.addgoods(t):null}},model:{value:e.typeAndBarCode.bar_code,callback:function(t){e.$set(e.typeAndBarCode,"bar_code",t)},expression:"typeAndBarCode.bar_code"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.typeAndBarCode.type,callback:function(t){e.$set(e.typeAndBarCode,"type",t)},expression:"typeAndBarCode.type"}},[a("el-option",{attrs:{label:"条码",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"货号",value:"2"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"tTable"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.newTableData,stripe:"",border:"",size:"mini"}},[a("el-table-column",{attrs:{type:"index",label:"序号",fixed:"",width:"50",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"barcode",label:"条形码",fixed:"",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goods_name",label:"商品名称规格",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"数量",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"small",placeholder:"",align:"center"},on:{change:function(a){e.multiply(a,t.row,t.row.index)}},model:{value:t.row.stock,callback:function(a){e.$set(t.row,"stock",a)},expression:"scope.row.stock"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"吊牌价",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"discount",label:"折扣",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"unit_price",label:"采购价",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"total_price",label:"小计",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200",fixed:"right",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.deleteAdd(t.row.index)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.open_new_rult,expression:"open_new_rult"}],staticClass:"model"},[a("div",{staticClass:"model_con"},[a("el-row",{staticClass:"model_title"},[a("el-col",{staticStyle:{"border-left":"#13C2C2 3px solid","padding-left":"15px"},attrs:{span:12}},[e._v("\n\t\t\t\t\t\t选择商品明细\n\t\t\t\t\t")]),e._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[a("el-button",{staticStyle:{padding:"0px"},attrs:{type:"text"},on:{click:e.cancel_new_rult}},[a("svg-icon",{attrs:{"icon-class":"cancel"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"oTable",staticStyle:{"margin-top":"20px"}},[a("el-table",{attrs:{data:e.specificationOfGoods,stripe:"",border:"","max-height":"450",size:"mini",border:""}},[a("el-table-column",{attrs:{prop:"color",label:"颜色",fixed:"",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{size:"medium","value-key":"index"},on:{change:function(a){e.sureColor(a,t.row,t.$index)}},model:{value:t.row.color,callback:function(a){e.$set(t.row,"color",a)},expression:"scope.row.color"}},e._l(e.color,function(e){return a("el-option",{key:e,attrs:{value:e,label:e}})}))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"size",label:"尺码",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{size:"medium"},on:{change:function(a){e.sureSize(a,t.row,t.$index)}},model:{value:t.row.size,callback:function(a){e.$set(t.row,"size",a)},expression:"scope.row.size"}},e._l(e.size,function(e){return a("el-option",{key:e,attrs:{value:e,label:e}})}))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"数量",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"small",placeholder:"请输入",align:"center"},model:{value:t.row.stock,callback:function(a){e.$set(t.row,"stock",a)},expression:"scope.row.stock"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"吊牌价",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"discount",label:"折扣",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"unit_price",label:"采购价",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1!=e.specificationOfGoods.length?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.reduceRow(t.$index)}}},[a("svg-icon",{attrs:{"icon-class":"icon_reduce"}})],1):e._e(),e._v(" "),1==e.specificationOfGoods.length||t.$index==e.specificationOfGoods.length-1?a("el-button",{attrs:{type:"text"},on:{click:function(a){e.addRow(t.row)}}},[a("svg-icon",{attrs:{"icon-class":"icon_increase"}})],1):e._e()]}}])})],1)],1),e._v(" "),a("el-row",[a("el-col",{staticClass:"bottomButton",staticStyle:{"margin-top":"20px","text-align":"right"},attrs:{span:24}},[a("el-button",{attrs:{name:"cancel"},on:{click:e.cancel_new_rult}},[e._v("取消")]),e._v(" "),a("el-button",{staticStyle:{"margin-right":"30px"},attrs:{type:"primary"},on:{click:e.sureAddNext}},[e._v("确定")])],1)],1)],1)])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.fromAndSave,expression:"fromAndSave"}],staticClass:"model"},[a("div",{staticClass:"save_model_con"},[a("el-row",{staticClass:"model_title"},[a("el-col",{staticStyle:{"border-left":"#13C2C2 3px solid","padding-left":"15px"},attrs:{span:12}},[e._v("\n\t\t\t\t\t退货\n\t\t\t\t")]),e._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[a("el-button",{staticStyle:{padding:"0px"},attrs:{type:"text"},on:{click:e.cancelSave}},[a("svg-icon",{attrs:{"icon-class":"cancel"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{staticStyle:{height:"100px","line-height":"100px","text-align":"center","font-size":"14px"}},[e._v("\n\t\t\t\t\t确定退货?\n\t\t\t\t")]),e._v(" "),a("el-col",{staticClass:"bottomButton",staticStyle:{"margin-top":"20px","text-align":"center"},attrs:{span:24}},[a("el-button",{attrs:{name:"cancel"},on:{click:e.cancelSave}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.sureSave}},[e._v("确定")])],1)],1)],1)])])},[],!1,null,"2f86fe23",null);c.options.__file="PurchaseReturn.vue";t.default=c.exports},vkNJ:function(e,t,a){}}]);