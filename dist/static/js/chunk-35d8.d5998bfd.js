(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-35d8"],{"/umX":function(t,e,a){"use strict";e.__esModule=!0;var s=function(t){return t&&t.__esModule?t:{default:t}}(a("9dlP"));e.default=function(t,e,a){return e in t?(0,s.default)(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},"1JIi":function(t,e,a){},IW8P:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABkCAYAAAAG2CffAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjM3REFBQjAxMzFFMTFFOUJCQzg5RkVEQTI0MDQ0OTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjM3REFBQjExMzFFMTFFOUJCQzg5RkVEQTI0MDQ0OTgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyMzdEQUFBRTEzMUUxMUU5QkJDODlGRURBMjQwNDQ5OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyMzdEQUFBRjEzMUUxMUU5QkJDODlGRURBMjQwNDQ5OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhHF6HwAAAVCSURBVHja7J3/UhtVFMcvPyYMKRgoFZoUpKERxOkfjh31HfQJ9AGsf/o2jk/gC/gW2g79odRiBRJKBEqgAmFIC3i+l7072zQJLOzd3ex+vzNnyJDNZu/nnnPuOZdN6Dk9PVXn6bcHD1Rc9cW9e6ob1KsogiZoiqAJmqApgiZoiqBjqv5LvCYj9oPYt2J3xYaiHIC3a50tlRYP6vW7hXz+pNtB3xL7VeyzOHpNLpeblx9P16vV2MHu9enJsYXshX0tmwXs3m4FfT/ukOMM28+FfNdNi0/cYPu5iM+7baWPE2y/OVoRNuvoWMNOTcMSNexUdYZRwk5dCx4V7FTudUQBO7WbSmHDTvXuXZiwU79NGhZs7keHBJugQ4JN0CHBJuiQYBN0SLAJOiTYBB0S7ESBvsi93lHBThTog3o9tp6dKNC1Wi22aSRRoDe3tlT98DCWsBOXo5eWllTdUgq5CuzEVR2NN2/Un8+eqXKlonP2yclJLGD3qwQKnr2xuanNonD72U+FfP4+62j7+p4NS8zUTwRX00U/7EqPDkkETdAETRE0QRM0ERA0QVMETdAETRE0QVMETdAETRE0QVMEHVOl6o+zHwwPu4//29tLFuiPSyU1ksup4+Nj9cfiojo6Omp53OjoqCrNzOjHlbU19e/Ghvuc+eriv54/9w0IcCcmJvQ1NGv39Wu1vr5u7S7UUFPH8vKyajQaqq+vTxVv3255zMDAgCpOT7uD90K+ij68cUPNzc66kPf297UdOjdC4vefzs/r47reo9+KJy+vrOgBDw8NqZviXc0gMQGYCHg9JiaQgcn5piYn9ePtWk2Vy2V9Ld7ni8Wiho3jECntoq1rFkMMYtO5Dw6DupbNus8BPCZAe//q6jswriKkIkweoukfmbzm8751JtVE2+jISDKqjtVKxQ1Zk0IAvJDPu163s7MT2PsNZM6+mehIQHaKtt3d3bM0Yhl0qFUHUghy4uDgoJosFPTgjNchtIOUAYxowYS2W/DgALBE1dEYLCoKKC+eDOBmAoJKGUaIjmPnnFgfpqem3klZia+jsRDCk01erlarVmpaTBzKQUBG1IyPj2sDfF19yHvuSNqwuQBGChqrvcmfUEZKO5sR9PjJE73gjo2NqYy8L6Cj0jDVBqBXnE8HJAr0LcnNGQ/osevXtWcFuRA2e/aaNCUw1OtoYIbFABrQEVnweni/Tdih5miUXAhf0/2hOdFViDQr8HTbQprYevVKl3sPFxbUipSTSCUAXrpzJxmLoW4QnO4P4YpcjTrWHai06kEJi94nc3PaOgnQ/37x4iyFSZTZXCxDA40uzO3+pMowYW0GarrGoNIFzgfzbiS1a6aM+ixGVSigb3o2ddD9eVd6b9eI5iUIr8L5G04dPXHO5HknolNzE3vQWIBM94ec3GrReykLFbrGThtPflV26nVM8IxEU6s1ANf2kdTXJp3ZLPWsVx0X2TAyG0/erhFVQrMApVNjs729rfOuaVjQ1qOqgQE4JrrhwByUyDFR5k1nXQkawExjglzcCRJKKzQv6BhhSCnNjYzpJNtpv+l4VBf4uDIiCpMN4M2CJwOy7calx8f/M/T9ZRgm/8FjLlqjtnrNeQuaN8e2A4ZzZMWLTQrBsQFtjfZE7tGXaa1bvSaIFr1VhIQp/nGWoNMLukFc76+/NkA/JNf39NQG6F/I9fJM/ID+WewR2bp67DAJHDQKzm/EFshYO9zXDhMrVcdLsa/EfhT7HQ1diuAeOGPG2L90WFjpDCnbLTjFhoWgKYImaIKmCJqgKYKOQv8LMACEwaENrhGsygAAAABJRU5ErkJggg=="},QL2Y:function(t,e,a){"use strict";var s=a("TH9v");a.n(s).a},TH9v:function(t,e,a){},kGIj:function(t,e,a){"use strict";a.r(e);var s,i=a("/umX"),o=a.n(i),n=a("omC7"),l=a.n(n),r=a("6ZY3"),c=a.n(r),d={data:function(){return{isAdd:!0,permission:[],showModel:!1,page:1,total:0,per_page:10,supplierCommonSupplierList:[],StaticGetBillingUser:[],typeAndBarCode:{type:"",bar_code:""},type:0,fromAndSave:!1,Loadwarehousereceiptmodel:!1,tableData:[],tableHeader:[],search:"",isShow:1,currentPage4:4,formInline:{document_num:"",startTime:"",endTime:"",supplier_id:"",user_id:"",status:2},forMation:{document_num:"",purchase_code:"",storage_date:"2018/12/18",user_id:"",single_person:"",supplier_id:"",supplier_name:"",abstract:"",type:this.type,shopArr:""},ruleforMation:{cbid:[{required:!0,message:"选择供应商",trigger:"change"}]},loadPurchaseList:"",new_info_model:!0,open_new_rult:!1,editVisible:!1,openToLead:!1,currentVendor:{},data:[],newTableData:[],color:[],size:[],sku_data:[],addTable:[{img:"",numbers:"0001",name:"短袖",brand:"品牌",craneQuotation:"1000"}],specificationOfGoods:[{color:"",size:"",stock:"",total_price:""}],selectData:[],multipleSelection:[],disabled:!1,fileList:[],showFileList:!1,finishMessage:[],finish:!1}},created:function(){this.ajaxjson(),this.getSupplierCommonSupplierList(),this.getStaticGetBillingUser();var t=sessionStorage.getItem("permission").split(",");this.permission=t},methods:(s={handlePreview:function(t){console.log(t)},handleSuccess:function(t,e){console.log(t),this.finishMessage=t.data.arr;for(var a=t.data.shop,s=0;s<a.length;s++)a[s].barcode=a[s].bar_code,a[s].goods_name=a[s].norm,a[s].stock=a[s].total_num,a[s].price=a[s].tag_price/100,a[s].unit_price=a[s].singleton,a[s].total_price=a[s].count_money;this.newTableData=a,this.openToLead=!1,this.finish=!0},cancel_finish:function(){this.finish=!1},uploadUrl:function(){return this.$storageImportPurchase},ajaxjson:function(){var t=this,e=this.formInline;e.per_page=this.per_page,e.page=this.page,this.$post(this.$storageList,e).then(function(e){0==e.status_code?(t.data=e.data.data,t.total=e.data.total,t.per_page=e.data.per_page):t.$message({type:"error",message:e.message})})},handleSizeChange:function(t){this.per_page=t,this.ajaxjson()},handleCurrentChange:function(t){this.page=t,this.ajaxjson()},indexMethod:function(t){return(this.page-1)*this.per_page+t+1},bePutIntorage:function(t){this.PutIntorageId=t,this.fromAndSave=!0},goToSeeOrModify:function(t){var e=this;0==t.status?this.disabled=!1:this.disabled=!0;var a={id:t.id};this.pur_id=t.id,this.$post(this.$storageOrderDetail,a).then(function(t){if(0==t.status_code){e.currentVendor.id=t.data.purInfo.supplier_id,e.currentVendor.discounts=t.data.purInfo.discount,e.forMation=t.data.purInfo,e.forMation.cbid=t.data.purInfo.supplier_id,e.forMation.abstract=t.data.purInfo.remark;for(var a=t.data.shop_list,s=0;s<a.length;s++)a[s].barcode=a[s].bar_code,a[s].goods_name=a[s].norm,a[s].stock=a[s].total_num,a[s].price=a[s].tag_price/100,a[s].unit_price=a[s].singleton/100,a[s].total_price=a[s].count_money/100;e.newTableData=a,e.isShow=2,e.isAdd=!1}})},sureSave:function(){var t=this,e={id:this.PutIntorageId};this.$post(this.$storageConfirmStorage,e).then(function(e){console.log(e),0==e.status_code?(t.$message({type:"success",message:e.message}),t.fromAndSave=!1,t.ajaxjson()):t.$message({type:"error",message:e.message})})},cancelSave:function(){this.fromAndSave=!1},handleDelete:function(t){var e={id:t};this.$delete(this.$storageDelPurchase,e)},loadPurchase:function(){var t=this;this.is_load=1;var e={document_num:this.loadPurchaseList,page:this.page,per_page:this.per_page};this.$post(this.$storageLoadPurchaseList,e).then(function(e){if(0==e.status_code){t.forMation=e.data.info,t.join_order_sn=e.data.info.document_num,t.currentVendor.id=e.data.info.cbid,t.cbid=e.data.info.cbid;for(var a=e.data.list.data,s=0;s<a.length;s++)a[s].price=a[s].price/100,a[s].unit_price=a[s].unit_price/100,a[s].discount=a[s].discount/100,a[s].total_price=a[s].total_price/100;t.selectData=a,t.Loadwarehousereceiptmodel=!0}else t.$message({type:"error",message:e.message})})},handleSelectionChange:function(t){this.multipleSelection=t},determineLoad:function(){this.Loadwarehousereceiptmodel=!1,this.newTableData=this.multipleSelection,this.isShow=2},addPurseMan:function(){var t=this;this.$post(this.$storageGetBarCode,{code:121}).then(function(e){0==e.status_code&&(t.forMation.document_num=e.data.document_num,t.isShow=2,t.isAdd=!0)})},getSupplierCommonSupplierList:function(){var t=this;this.$post(this.$supplierCommonSupplierList).then(function(e){0==e.status_code&&(t.supplierCommonSupplierList=e.data)})},selectSupplier:function(t){for(var e=0;e<this.supplierCommonSupplierList.length;e++)t==this.supplierCommonSupplierList[e].id&&(this.currentVendor=this.supplierCommonSupplierList[e])},getStaticGetBillingUser:function(){var t=this,e={shop_id:sessionStorage.getItem("shop_id")};this.$post(this.$staticGetBillingUser,e).then(function(e){0==e.status_code&&(t.StaticGetBillingUser=e.data.user_list)})},addgoods:function(){var t=this;if(this.currentVendor.id){var e=this.typeAndBarCode;1==e.type?this.$post(this.$staticGetCodeGoods,e).then(function(e){if(0==e.status_code){var a=e.data;a.stock="",a.discount=t.currentVendor.discounts/100,a.price=a.sku_price/100,a.unit_price=a.price*a.discount,a.goods_name=a.goods_name+"|"+a.specnamestr;for(var s=!0,i=0;i<t.newTableData.length;i++)a.barcode==t.newTableData[i].barcode&&(s=!1);s?t.newTableData.push(a):t.$message({type:"error",message:"您已经添加过该商品了"})}else t.$message({type:"error",message:e.message})}):2==e.type&&this.$post(this.$staticGetCodeGoods,e).then(function(e){0==e.status_code?(t.color=e.data.sale_attrs[0].data,t.size=e.data.sale_attrs[1].data,t.sku_data=e.data.sku_data,t.open_new_rult=!0):t.$message({type:"error",message:e.message})})}else this.$message({type:"error",message:"请先选择供应商"})},sureColor:function(t,e,a){if(e.size){for(var s=!0,i=e.color+"|"+e.size,o=0;o<this.specificationOfGoods.length;o++)this.specificationOfGoods[o].specnamestr==i&&(s=!1);if(s)for(var n=0;n<this.sku_data.length;n++)return void(this.sku_data[n].specnamestr==i&&(e=c()(e,this.sku_data[n]),console.log(this.currentVendor),e.discount=this.currentVendor.discounts/100,e.price=e.sku_price/100,e.unit_price=e.price*e.discount,e.total_price=e.price*e.stock,console.log(e)));else this.$message({type:"error",message:"您已添加过该商品,请勿重复添加!"})}},sureSize:function(t,e,a){if(e.color){for(var s=!0,i=e.color+"|"+e.size,o=0;o<this.specificationOfGoods.length;o++)this.specificationOfGoods[o].specnamestr==i&&(s=!1);if(s)for(var n=0;n<this.sku_data.length;n++)this.sku_data[n].specnamestr==i&&((e=c()(e,this.sku_data[n])).discount=this.currentVendor.discounts/100,e.stock=1,e.price=e.sku_price/100,e.unit_price=e.price*e.discount,e.total_price=e.price*e.stock);else this.$message({type:"error",message:"您已添加过该商品,请勿重复添加!"})}},addRow:function(t){if(t.sku_price){this.specificationOfGoods.push({color:"",size:"",stock:"",total_price:""})}else this.$message({type:"error",message:"请先完善该条信息!"})},reduceRow:function(t){this.specificationOfGoods.splice(t,1)},sureAddNext:function(){var t=this.$coppyArray(this.specificationOfGoods),e=this.$coppyArray(this.newTableData),a=[];this.specificationOfGoods=[{color:"",size:"",stock:"",total_price:""}];for(var s=0;s<t.length;s++)if(t[s].goods_name=t[s].goods_name+"|"+t[s].specnamestr,delete t[s].color,delete t[s].size,delete t[s].specnamestr,0==e.length)a.push(t[s]);else for(var i=0;i<e.length;i++)t[s].sku_id==e[i].sku_id?e[i].stock=Number(e[i].stock)+Number(t[s].stock):a.push(t[s]);this.newTableData=e.concat(a)},multiply:function(t,e,a){var s=Number(e.stock)*e.unit_price*100;e.total_price=Math.round(s)/100,this.newTableData.splice(a,e)},saveNotAudit:function(){var t=this,e=this.$objDeepCopy(this.forMation),a=this.$coppyArray(this.newTableData);e.supplier_id=this.currentVendor.id,e.supplier_name=this.currentVendor.name,e.type=this.type;for(var s=0;s<a.length;s++)a[s].bar_code=a[s].barcode,a[s].norm=a[s].goods_name,a[s].tag_price=100*a[s].price,a[s].singleton=100*a[s].unit_price,a[s].total_num=a[s].stock,a[s].count_money=100*a[s].total_price;console.log(a),e.shopArr=l()(a),this.$post(this.$storageAddOrder,e).then(function(e){0==e.status_code?(t.$message({type:"success",message:e.message}),t.newTableData=[],t.ajaxjson()):t.$message({type:"error",message:e.message})})},EditNotAudit:function(){var t=this,e=this.$objDeepCopy(this.forMation),a=this.$coppyArray(this.newTableData);e.supplier_id=this.currentVendor.id,e.supplier_name=this.currentVendor.name,e.type=this.type;for(var s=0;s<a.length;s++)a[s].bar_code=a[s].barcode,a[s].norm=a[s].goods_name,a[s].tag_price=100*a[s].price,a[s].singleton=100*a[s].unit_price,a[s].total_num=a[s].stock,a[s].count_money=100*a[s].total_price;e.shopArr=l()(a),e.pur_id=this.pur_id,this.$post(this.$storageEditOrder,e).then(function(e){0==e.status_code?(t.$message({type:"success",message:e.message}),t.newTableData=[],t.ajaxjson()):t.$message({type:"error",message:e.message})})},resetForm:function(t){this.formInline={document_num:"",startTime:"",endTime:"",supplier_id:"",user_id:"",status:2},this.ajaxjson()},back_PurchseMan:function(){this.isShow=1,this.newTableData=[]},cancel_new_rult:function(){this.open_new_rult=!1;this.specificationOfGoods=[{color:"",size:"",stock:"",total_price:""}]}},o()(s,"addRow",function(){this.specificationOfGoods.push({color:"",all_id:111,rulte_01:1,rulte_02:1,rulte_03:1})}),o()(s,"deleteAdd",function(t){this.newTableData.splice(t,1)}),o()(s,"reduceRow",function(t){this.specificationOfGoods.pop()}),o()(s,"importData",function(){this.isImport=!0}),o()(s,"exportData",function(){this.isExport=!0}),o()(s,"close_import",function(){this.isImport=!1}),o()(s,"close_export",function(){this.isExport=!1}),o()(s,"Delete",function(){this.isDelete=!0}),o()(s,"ToLead",function(){this.openToLead=!0}),o()(s,"cancel_openToLead",function(){this.openToLead=!1}),o()(s,"getSummaries",function(t){var e=t.columns,a=t.data,s=[],i=[];return e.forEach(function(t,e){0!==e?("total_money"===t.property&&(i=a.map(function(t){return Number(t.total_money)})),"total_num"===t.property&&(i=a.map(function(t){return Number(t.total_num)})),"total_money"==t.property||"total_num"==t.property?(s[e]=i.reduce(function(t,e){var a=Number(e);return isNaN(a)?t:t+e},0),s[e]+=""):s[e]="--"):s[e]="合计"}),s[5]=s[5]/100,s}),s)},p=(a("qfHQ"),a("QL2Y"),a("ZrdR")),u=Object(p.a)(d,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{directives:[{name:"show",rawName:"v-show",value:1==t.isShow,expression:"isShow == 1"}],staticClass:"tab-container"},[s("el-form",{staticClass:"demo-form-inline",attrs:{"label-width":"80px",inline:!0},model:{value:t.formInline,callback:function(e){t.formInline=e},expression:"formInline"}},[s("div",{staticClass:"title"},[s("el-row",[s("el-col",{attrs:{span:24}},[s("el-button",{directives:[{name:"show",rawName:"v-show",value:-1!=t.permission.indexOf("119"),expression:"permission.indexOf('119') != -1"}],staticStyle:{"margin-right":"20px"},attrs:{type:"primary"},on:{click:t.addPurseMan}},[s("svg-icon",{staticStyle:{"margin-right":"10px"},attrs:{"icon-class":"add"}}),t._v(" "),s("span",[t._v("新增")])],1),t._v(" "),s("el-input",{staticStyle:{width:"240px","margin-right":"20px"},attrs:{placeholder:"载入采购订单"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.loadPurchase(e):null}},model:{value:t.loadPurchaseList,callback:function(e){t.loadPurchaseList=e},expression:"loadPurchaseList"}}),t._v(" "),s("el-input",{staticStyle:{width:"300px","margin-right":"20px"},attrs:{placeholder:"输入单据号"},model:{value:t.formInline.document_num,callback:function(e){t.$set(t.formInline,"document_num",e)},expression:"formInline.document_num"}},[s("el-button",{staticStyle:{"background-color":"#e0e0e0","border-radius":"0px"},attrs:{slot:"append",type:"primary"},on:{click:t.ajaxjson},slot:"append"},[s("svg-icon",{staticStyle:{"margin-right":"5px"},attrs:{"icon-class":"icon_search"}}),s("span",[t._v("搜索")])],1)],1),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.showModel=!t.showModel}}},[s("svg-icon",{staticStyle:{"margin-right":"10px"},attrs:{"icon-class":"filter"}}),t._v(" "),s("span",[t._v("筛选订单")])],1)],1)],1)],1),t._v(" "),t.showModel?s("div",{staticClass:"search"},[s("el-row",[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"开始时间"}},[s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.formInline.startTime,callback:function(e){t.$set(t.formInline,"startTime",e)},expression:"formInline.startTime"}})],1)],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"结束时间"}},[s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.formInline.endTime,callback:function(e){t.$set(t.formInline,"endTime",e)},expression:"formInline.endTime"}})],1)],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"供应商"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formInline.supplier_id,callback:function(e){t.$set(t.formInline,"supplier_id",e)},expression:"formInline.supplier_id"}},t._l(t.supplierCommonSupplierList,function(t,e){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"制单人"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:t.formInline.user_id,callback:function(e){t.$set(t.formInline,"user_id",e)},expression:"formInline.user_id"}},t._l(t.StaticGetBillingUser,function(t,e){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)],1)],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{label:"状态"}},[s("el-radio-group",{model:{value:t.formInline.status,callback:function(e){t.$set(t.formInline,"status",e)},expression:"formInline.status"}},[s("el-radio",{attrs:{label:2}},[t._v("所有")]),t._v(" "),s("el-radio",{attrs:{label:1}},[t._v("已入库")]),t._v(" "),s("el-radio",{attrs:{label:0}},[t._v("未入库")])],1)],1)],1)],1),t._v(" "),s("el-row",[s("el-col",{staticClass:"bottomButton",attrs:{align:"center"}},[s("el-form-item",{attrs:{label:" ",align:"center"}},[s("el-button",{attrs:{name:"cancel"},on:{click:t.resetForm}},[t._v("清空")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.ajaxjson}},[t._v("确定")])],1)],1)],1)],1):t._e()]),t._v(" "),s("div",{staticClass:"tTable"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.data,stripe:"",border:"",size:"mini","show-summary":"","summary-method":t.getSummaries}},[s("el-table-column",{attrs:{type:"index",index:t.indexMethod,label:"序号",fixed:"",width:"100",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"document_num",label:"单据号",fixed:"",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[-1!=t.permission.indexOf("120")?s("span",{staticStyle:{color:"#18CCBA",cursor:"pointer"},on:{click:function(a){t.goToSeeOrModify(e.row)}}},[t._v(t._s(e.row.document_num))]):s("span",{staticStyle:{color:"#18CCBA",cursor:"pointer"}},[t._v(t._s(e.row.document_num))])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"created_at",label:"单据日期",width:"150",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"supplier_name",label:"供应商",width:"100",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"total_num",label:"总数量",width:"100",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"total_money",label:"总金额",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.total_money/100))])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"status",label:"状态",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.status?s("span",{attrs:{type:"text"}},[t._v("未入库")]):t._e(),t._v(" "),1==e.row.status?s("span",{attrs:{type:"text"}},[t._v("已入库")]):t._e(),t._v(" "),2==e.row.status?s("span",{attrs:{type:"text"}},[t._v("全部")]):t._e()]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"single_person",label:"制单人"}}),t._v(" "),s("el-table-column",{attrs:{label:"操作",width:"200",fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return 0==e.row.status?[s("el-button",{directives:[{name:"show",rawName:"v-show",value:-1!=t.permission.indexOf("124"),expression:"permission.indexOf('124') != -1"}],attrs:{size:"mini",type:"warning"},on:{click:function(a){t.bePutIntorage(e.row.id)}}},[t._v("入库")]),t._v(" "),s("el-button",{directives:[{name:"show",rawName:"v-show",value:-1!=t.permission.indexOf("123"),expression:"permission.indexOf('123') != -1"}],attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDelete(e.row.id)}}},[t._v("删除")])]:void 0}}])})],1)],1),t._v(" "),s("div",{staticClass:"block",staticStyle:{"margin-top":"15px"}},[s("el-pagination",{attrs:{"current-page":t.currentPage4,"page-sizes":[10,20,30,40],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.fromAndSave,expression:"fromAndSave"}],staticClass:"model"},[s("div",{staticClass:"save_model_con"},[s("el-row",{staticClass:"model_title"},[s("el-col",{staticStyle:{"border-left":"#13C2C2 3px solid","padding-left":"15px"},attrs:{span:12}},[t._v("\n\t\t\t\t\t\t入库\n\t\t\t\t\t")]),t._v(" "),s("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[s("el-button",{attrs:{type:"text",name:"topRightCancel"},on:{click:t.cancelSave}},[s("svg-icon",{attrs:{"icon-class":"cancel"}})],1)],1)],1),t._v(" "),s("el-row",[s("el-col",{staticStyle:{height:"100px","line-height":"100px","text-align":"center","font-size":"14px"}},[t._v("\n\t\t\t\t\t\t入库?\n\t\t\t\t\t")]),t._v(" "),s("el-col",{staticClass:"bottomButton",staticStyle:{"margin-top":"20px","text-align":"center"},attrs:{span:24}},[s("el-button",{attrs:{name:"cancel"},on:{click:t.cancelSave}},[t._v("取消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.sureSave}},[t._v("确定")])],1)],1)],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.Loadwarehousereceiptmodel,expression:"Loadwarehousereceiptmodel"}],staticClass:"model"},[s("div",{staticClass:"model_con"},[s("el-row",{staticClass:"model_title"},[s("el-col",{staticStyle:{"border-left":"#13C2C2 3px solid","padding-left":"15px"},attrs:{span:12}},[t._v("\n\t\t\t\t\t\t入库单\n\t\t\t\t\t")]),t._v(" "),s("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[s("el-button",{attrs:{type:"text"},on:{click:t.cancel_new_rult}},[s("svg-icon",{attrs:{"icon-class":"cancel"}})],1)],1)],1),t._v(" "),s("div",{staticClass:"oTable",staticStyle:{"margin-top":"20px"}},[s("el-table",{attrs:{data:t.selectData,stripe:"",border:"","max-height":"450",size:"mini",border:""},on:{"selection-change":t.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),s("el-table-column",{attrs:{prop:"barcode",label:"条形码",fixed:"",width:"100",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"goods_name",label:"商品规格名称",width:"100",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"stock",label:"数量",width:"100",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"price",label:"吊牌价",width:"100",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"discount",label:"折扣",width:"100",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"unit_price",label:"采购价",width:"100",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"total_price",label:"小计",align:"center"}})],1)],1),t._v(" "),s("el-row",[s("el-col",{staticStyle:{"margin-top":"20px","text-align":"right"},attrs:{span:24}},[s("el-button",{staticStyle:{float:"right","margin-right":"30px"},attrs:{type:"primary"},on:{click:t.determineLoad}},[t._v("确定")])],1)],1)],1)])],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:2==t.isShow,expression:"isShow == 2"}],staticClass:"tab-container"},[s("el-row",{staticClass:"model_title"},[s("el-col",{staticStyle:{"border-left":"#13C2C2 3px solid","padding-left":"15px"},attrs:{span:12}},[t.disabled?t._e():s("span",[t._v("新增")]),t._v("采购入库单\n\t\t\t")]),t._v(" "),s("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[s("el-button",{attrs:{type:"text",name:"topRightCancel"},on:{click:t.back_PurchseMan}},[s("svg-icon",{attrs:{"icon-class":"cancel"}})],1)],1)],1),t._v(" "),s("div",{staticClass:"title"},[s("el-row",[s("el-col",{attrs:{span:12}},[t.isAdd?s("el-button",{attrs:{type:"primary",disabled:t.disabled},on:{click:t.saveNotAudit}},[s("svg-icon",{staticStyle:{"margin-right":"10px"},attrs:{"icon-class":"icon_save"}}),t._v(" "),s("span",[t._v("保存")])],1):t._e(),t._v(" "),t.isAdd?t._e():s("el-button",{attrs:{type:"primary",disabled:t.disabled},on:{click:t.EditNotAudit}},[s("svg-icon",{staticStyle:{"margin-right":"10px"},attrs:{"icon-class":"icon_save"}}),t._v(" "),s("span",[t._v("保存")])],1)],1),t._v(" "),s("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[s("el-button",{directives:[{name:"show",rawName:"v-show",value:-1!=t.permission.indexOf("122"),expression:"permission.indexOf('122') != -1"}],attrs:{type:"primary",disabled:t.disabled},on:{click:t.ToLead}},[s("svg-icon",{staticStyle:{"margin-right":"10px"},attrs:{"icon-class":"icon_Import"}}),s("span",[t._v("导入")])],1)],1)],1)],1),t._v(" "),s("div",{staticClass:"search1"},[s("el-form",{staticClass:"demo-form-inline",attrs:{"label-width":"80px",inline:!0,model:t.forMation,rules:t.ruleforMation}},[s("el-row",[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"单据号"}},[s("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"",disabled:""},model:{value:t.forMation.document_num,callback:function(e){t.$set(t.forMation,"document_num",e)},expression:"forMation.document_num"}})],1)],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"日期"}},[s("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期",disabled:""},model:{value:t.forMation.storage_date,callback:function(e){t.$set(t.forMation,"storage_date",e)},expression:"forMation.storage_date"}})],1)],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"供应商",prop:"cbid"}},[s("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择供应商",disabled:t.disabled},on:{change:t.selectSupplier},model:{value:t.forMation.cbid,callback:function(e){t.$set(t.forMation,"cbid",e)},expression:"forMation.cbid"}},t._l(t.supplierCommonSupplierList,function(t,e){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)],1),t._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"摘要"}},[s("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"",disabled:t.disabled},model:{value:t.forMation.abstract,callback:function(e){t.$set(t.forMation,"abstract",e)},expression:"forMation.abstract"}})],1)],1)],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"制单人"}},[s("el-select",{attrs:{placeholder:"请选择",disabled:t.disabled},model:{value:t.forMation.user_id,callback:function(e){t.$set(t.forMation,"user_id",e)},expression:"forMation.user_id"}},t._l(t.StaticGetBillingUser,function(t,e){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)],1)],1)],1)],1),t._v(" "),s("el-row",{staticClass:"search2",staticStyle:{"margin-top":"20px","margin-bottom":"10px"}},[s("el-col",{attrs:{span:12}},[s("el-button",{attrs:{type:"text"}})],1),t._v(" "),s("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[s("el-input",{staticClass:"input-with-select",staticStyle:{width:"400px"},attrs:{placeholder:"请输入内容",disabled:t.disabled},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.addgoods(e):null}},model:{value:t.typeAndBarCode.bar_code,callback:function(e){t.$set(t.typeAndBarCode,"bar_code",e)},expression:"typeAndBarCode.bar_code"}},[s("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.typeAndBarCode.type,callback:function(e){t.$set(t.typeAndBarCode,"type",e)},expression:"typeAndBarCode.type"}},[s("el-option",{attrs:{label:"条码",value:"1"}}),t._v(" "),s("el-option",{attrs:{label:"货号",value:"2"}})],1)],1)],1)],1),t._v(" "),s("div",{staticClass:"tTable"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.newTableData,stripe:"",border:"",size:"mini"}},[s("el-table-column",{attrs:{type:"index",label:"序号",fixed:"",width:"50",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"barcode",label:"条形码",fixed:"",width:"100",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"goods_name",label:"商品规格名称",width:"100",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"stock",label:"数量",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.disabled?s("span",[t._v(t._s(e.row.stock))]):s("el-input",{attrs:{size:"small",placeholder:"",align:"center"},on:{change:function(a){t.multiply(a,e.row,e.index)}},model:{value:e.row.stock,callback:function(a){t.$set(e.row,"stock",a)},expression:"scope.row.stock"}})]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"price",label:"吊牌价",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t"+t._s(e.row.price)+"\n\t\t\t\t\t")]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"discount",label:"折扣",width:"100",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"unit_price",label:"采购价",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t"+t._s(e.row.unit_price)+"\n\t\t\t\t\t")]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"total_price",label:"小计",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{label:"操作",width:"200",fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.deleteAdd(e.row.index)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),s("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,border:"","highlight-current-row":""}},t._l(t.tableHeader,function(t){return s("el-table-column",{key:t,attrs:{prop:t,label:t}})})),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.open_new_rult,expression:"open_new_rult"}],staticClass:"model"},[s("div",{staticClass:"model_con"},[s("el-row",{staticClass:"model_title"},[s("el-col",{staticStyle:{"border-left":"#13C2C2 3px solid","padding-left":"15px"},attrs:{span:12}},[t._v("\n\t\t\t\t\t\t选择商品明细\n\t\t\t\t\t")]),t._v(" "),s("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[s("el-button",{attrs:{type:"text"},on:{click:t.cancel_new_rult}},[s("svg-icon",{attrs:{"icon-class":"cancel"}})],1)],1)],1),t._v(" "),s("div",{staticClass:"oTable",staticStyle:{"margin-top":"20px"}},[s("el-table",{attrs:{data:t.specificationOfGoods,stripe:"",border:"","max-height":"400",size:"mini",border:""}},[s("el-table-column",{attrs:{prop:"color",label:"颜色",fixed:"",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-select",{attrs:{size:"medium","value-key":"index"},on:{change:function(a){t.sureColor(a,e.row,e.$index)}},model:{value:e.row.color,callback:function(a){t.$set(e.row,"color",a)},expression:"scope.row.color"}},t._l(t.color,function(t){return s("el-option",{key:t,attrs:{value:t,label:t}})}))]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"size",label:"尺码",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-select",{attrs:{size:"medium"},on:{change:function(a){t.sureSize(a,e.row,e.$index)}},model:{value:e.row.size,callback:function(a){t.$set(e.row,"size",a)},expression:"scope.row.size"}},t._l(t.size,function(t){return s("el-option",{key:t,attrs:{value:t,label:t}})}))]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"stock",label:"数量",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-input",{attrs:{size:"small",placeholder:"请输入",align:"center"},model:{value:e.row.stock,callback:function(a){t.$set(e.row,"stock",a)},expression:"scope.row.stock"}})]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"price",label:"吊牌价",width:"100",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"discount",label:"折扣",width:"100",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{prop:"unit_price",label:"采购价",width:"100",align:"center"}}),t._v(" "),s("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1!=t.specificationOfGoods.length?s("el-button",{attrs:{type:"text"},on:{click:function(a){t.reduceRow(e.$index)}}},[s("svg-icon",{attrs:{"icon-class":"icon_reduce"}})],1):t._e(),t._v(" "),1==t.specificationOfGoods.length||e.$index==t.specificationOfGoods.length-1?s("el-button",{attrs:{type:"text"},on:{click:function(a){t.addRow(e.row)}}},[s("svg-icon",{attrs:{"icon-class":"icon_increase"}})],1):t._e()]}}])})],1)],1),t._v(" "),s("el-row",[s("el-col",{staticClass:"bottomButton",staticStyle:{"margin-top":"20px","text-align":"right"},attrs:{span:24}},[s("el-button",{attrs:{name:"cancel"},on:{click:t.cancel_new_rult}},[t._v("取消")]),t._v(" "),s("el-button",{staticStyle:{float:"right","margin-right":"30px"},attrs:{type:"primary"},on:{click:t.sureAddNext}},[t._v("确定")])],1)],1)],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.openToLead,expression:"openToLead"}],staticClass:"model"},[s("div",{staticClass:"toLeadModel"},[s("el-row",{staticClass:"model_title"},[s("el-col",{staticStyle:{"border-left":"#13C2C2 3px solid","padding-left":"15px"},attrs:{span:12}},[t._v("\n\t\t\t\t\t\t导入\n\t\t\t\t\t")]),t._v(" "),s("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[s("el-button",{attrs:{name:"topRightCancel",type:"text"},on:{click:t.cancel_openToLead}},[s("svg-icon",{attrs:{"icon-class":"cancel"}})],1)],1)],1),t._v(" "),s("el-row",{staticClass:"leadcon",staticStyle:{padding:"50px"}},[s("el-col",{attrs:{span:6}},[s("img",{attrs:{src:a("IW8P")}})]),t._v(" "),s("el-col",{attrs:{span:18}},[s("el-col",{staticStyle:{"margin-top":"10px"},attrs:{sapn:24}},[t._v("\n\t\t\t\t\t\t\t上传的格式只支持.xls,.xlsx,请按照文件xls,xlsx格式上传\n\t\t\t\t\t\t")]),t._v(" "),s("el-col",{staticClass:"button_con",attrs:{sapn:24}},[s("a",{attrs:{href:"/static/excel/采购入库单导入文件示例.xlsx",download:"采购入库单导入文件示例.xlsx"}},[s("el-button",{attrs:{type:"primary"}},[t._v("\n\t\t\t\t\t\t\t\t\t下载模板\n\t\t\t\t\t\t\t\t")])],1)])],1)],1),t._v(" "),s("el-row",{staticClass:"bottomButton"},[s("el-col",{staticStyle:{"text-align":"center","padding-top":"20px"},attrs:{span:24}},[s("el-button",{attrs:{name:"cancel"},on:{click:t.cancel_openToLead}},[t._v("\n\t\t\t\t\t\t\t取消\n\t\t\t\t\t\t")]),t._v(" "),s("el-upload",{ref:"upload",staticClass:"upload",attrs:{action:t.uploadUrl(),"on-success":t.handleSuccess,limit:1,multiple:"","method:":"post","on-preview":t.handlePreview,accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel,.csv,text/plain","file-list":t.fileList,"show-file-list":t.showFileList}},[s("el-button",{attrs:{type:"primary"}},[t._v("上传文件")])],1)],1)],1)],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.finish,expression:"finish"}],staticClass:"model"},[s("div",{staticClass:"UploadModel"},[s("el-row",{staticClass:"model_title"},[s("el-col",{staticStyle:{"border-left":"#13C2C2 3px solid","padding-left":"15px"},attrs:{span:12}},[t._v("\n\t\t\t\t\t\t导入\n\t\t\t\t\t")]),t._v(" "),s("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[s("el-button",{attrs:{type:"text",name:"topRightCancel"},on:{click:t.cancel_finish}},[s("svg-icon",{attrs:{"icon-class":"cancel"}})],1)],1)],1),t._v(" "),s("el-row",{staticStyle:{height:"200px","overflow-y":"scroll","background-color":"#F5F5F5",padding:"20px"}},t._l(t.finishMessage,function(e,a){return s("el-col",{key:a,staticStyle:{"font-size":"14px","line-height":"24px",color:"#666666"},attrs:{span:24}},[t._v("\n\t\t\t\t\t\t"+t._s(e.message)+"\n\t\t\t\t\t")])})),t._v(" "),s("el-row",[s("el-col",{staticClass:"bottomButton",staticStyle:{"text-align":"center","padding-top":"20px"},attrs:{span:24}},[s("el-button",{attrs:{type:"primary"},on:{click:t.cancel_finish}},[t._v("\n\t\t\t\t\t\t\t完成\n\t\t\t\t\t\t")])],1)],1)],1)])],1)])},[],!1,null,"2d606a60",null);u.options.__file="PurchaseWarehouseEntryForm.vue";e.default=u.exports},qfHQ:function(t,e,a){"use strict";var s=a("1JIi");a.n(s).a}}]);