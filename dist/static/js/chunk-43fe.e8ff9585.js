(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-43fe"],{JCNI:function(t,e,s){"use strict";s.d(e,"b",function(){return a}),s.d(e,"c",function(){return n}),s.d(e,"a",function(){return l}),s.d(e,"d",function(){return o});var i=s("t3Un");function a(t){return Object(i.a)({url:"/article/list",method:"get",params:t})}function n(t){return Object(i.a)({url:"/article/pv",method:"get",params:{pv:t}})}function l(t){return Object(i.a)({url:"/article/create",method:"post",data:t})}function o(t){return Object(i.a)({url:"/article/update",method:"post",data:t})}},PFoy:function(t,e,s){"use strict";var i=s("zUTD");s.n(i).a},ZWb1:function(t,e,s){"use strict";s.r(e);var i=s("omC7"),a=s.n(i),n=(s("JCNI"),s("Epur")),l=s.n(n),o={filters:{statusFilter:function(t){return{published:"success",draft:"info",deleted:"danger"}[t]}},data:function(){return{permission:[],type:1,disabled1:0,button_delete1:1,disabled2:0,button_delete2:1,disabled3:0,button_delete3:1,button_1:!0,button_2:!0,button_3:!0,list:null,centerList1:[],list2:null,centerList2:[],list3:null,centerList3:[],listLoading:!0,sortable:null,oldList:[],newList:[],oldList2:[],newList2:[],oldList3:[],newList3:[],postData2:{},postData3:{},options:[{value:1,label:"单选"},{value:2,label:"多选"},{value:3,label:"选填"}]}},created:function(){this.ajaxjson();var t=sessionStorage.getItem("permission").split(",");this.permission=t},methods:{selectType:function(){this.ajaxjson(),this.list2=[],this.list3=[]},leval_1_del:function(){this.button_delete1=0,this.disabled1=1},leval_1_sure_delete:function(){this.button_delete1=1,this.disabled1=0},delete1:function(t){var e=this,s={id:t+""};this.$post(this.$attributeDelete,s).then(function(t){console.log(t),0==t.status_code?(e.$message({type:"success",message:t.message}),e.ajaxjson()):e.$message({type:"error",message:t.message})})},leval_2_del:function(){this.button_delete2=0,this.disabled2=1},leval_2_sure_delete:function(){this.button_delete2=1,this.disabled2=0},delete2:function(t){var e=this,s={id:t+""};this.$post(this.$attributeValueDelete,s).then(function(t){console.log(t),0==t.status_code?(e.$message({type:"success",message:t.message}),e.ajaxjson_2(e.postData2)):e.$message({type:"error",message:t.message})})},leval_3_del:function(){this.button_delete3=0,this.disabled3=1},leval_3_sure_delete:function(){this.button_delete3=1,this.disabled3=0},delete3:function(t){var e=this,s={id:t+""};this.$post(this.$attributeValueDelete,s).then(function(t){console.log(t),0==t.status_code?(e.$message({type:"success",message:t.message}),e.ajaxjson_3(e.postData3)):e.$message({type:"error",message:t.message})})},ajaxjson:function(){var t=this,e={page:1,pid:0,type:this.type};this.$post(this.$attributeList,e).then(function(e){var s=e;0==s.status_code&&(t.list=s.data,t.listLoading=!1,t.oldList=t.list.map(function(t){return t.id}),t.newList=t.oldList.slice(),t.$nextTick(function(){t.setSort()}))})},selectTable1:function(t){var e={pid:0,attr_id:t.id,type:this.type};this.postData2=e,this.ajaxjson_2(e)},ajaxjson_2:function(t){var e=this,s=t;this.$post(this.$attributeValueList,s).then(function(t){var s=t;0==s.status_code&&(e.list2=s.data,e.listLoading=!1,e.oldList2=e.list2.map(function(t){return t.id}),e.newList2=e.oldList2.slice(),e.$nextTick(function(){e.setSort2()}))})},selectTable2:function(t){var e={attr_id:t.attr_id,pid:t.id,type:this.type};this.postData3=e,this.ajaxjson_3(e)},ajaxjson_3:function(t){var e=this,s=t;this.$post(this.$attributeValueList,s).then(function(t){var s=t;0==s.status_code&&(e.list3=s.data,e.listLoading=!1,e.oldList3=e.list3.map(function(t){return t.id}),e.newList3=e.oldList3.slice(),e.$nextTick(function(){e.setSort3()}))})},switchChange_1:function(t){var e=this,s={id:t.id,disabled:t.disabled?0:1};this.$post(this.$attributeStatus,s).then(function(t){0==t.status_code&&e.ajaxjson()})},switchChange_2:function(t){var e=this,s={id:t.id,disabled:t.disabled?0:1};this.$post(this.$goodsModifyview,s).then(function(t){0==t.status_code&&e.ajaxjson_2(e.postData2)})},leval_1_add:function(){this.centerList1=this.$coppyArray(this.list);this.button_1=!1,this.disabled1=1,this.list.push({name:"",disabled:0,is_add:!0,style:1})},keyup_1:function(t){if(t.name){t.is_add=!1;this.list.push({name:"",disabled:0,is_add:!0,style:1})}else this.$message({type:"error",message:"你还没有输入分类名称"})},leval_1_sure:function(){var t=this;if(""!=this.list[this.list.length-1].name){for(var e=this.$coppyArray(this.centerList1),s=this.$coppyArray(this.list),i=0;i<e.length;i++)for(var n=0;n<s.length;n++)s[n].id===e[i].id&&(s.splice(n,1),n--);var l={insertData:a()(s),type:this.type};this.$post(this.$attributeAdd,l).then(function(e){0==e.status_code&&(t.$message({type:"success",message:e.message}),t.ajaxjson())})}else{this.list.splice(this.list.length-1,1);var o=this.$coppyArray(this.centerList1),r=this.$coppyArray(this.list);for(i=0;i<o.length;i++)for(n=0;n<r.length;n++)r[n].id===o[i].id&&(r.splice(n,1),n--);if(r.length>0){var d={insertData:a()(r),type:this.type};this.$post(this.$attributeAdd,d).then(function(e){0==e.status_code&&(t.$message({type:"success",message:e.message}),t.ajaxjson())})}}this.button_1=!0,this.disabled1=0},leval_2_add:function(){this.centerList2=this.$coppyArray(this.list2);this.button_2=!1,this.disabled2=1,this.list2.push({name:"",disabled:0,is_add:!0})},keyup_2:function(t){if(t.name){t.is_add=!1;this.list2.push({name:"",disabled:0,is_add:!0})}else this.$message({type:"error",message:"你还没有输入分类名称"})},leval_2_sure:function(){var t=this;if(""!=this.list2[this.list2.length-1].name){for(var e=this.$coppyArray(this.centerList2),s=this.$coppyArray(this.list2),i=0;i<e.length;i++)for(var n=0;n<s.length;n++)s[n].id===e[i].id&&(s.splice(n,1),n--);var l={insertData:a()(s),pid:this.postData2.pid,attr_id:this.postData2.attr_id};this.$post(this.$attributeValueAdd,l).then(function(e){0==e.status_code&&(t.$message({type:"success",message:e.message}),t.ajaxjson_2(t.postData2))})}else{this.list2.splice(this.list2.length-1,1);var o=this.$coppyArray(this.centerList2),r=this.$coppyArray(this.list2);for(i=0;i<o.length;i++)for(n=0;n<r.length;n++)r[n].id===o[i].id&&(r.splice(n,1),n--);if(r.length>0){var d={insertData:a()(r),pid:this.postData2.pid,attr_id:this.postData2.attr_id};this.$post(this.$attributeValueAdd,d).then(function(e){0==e.status_code&&(t.$message({type:"success",message:e.message}),t.ajaxjson_2(t.postData2))})}}this.button_2=!0,this.disabled2=0},leval_3_add:function(){this.centerList3=this.$coppyArray(this.list3);this.button_3=!1,this.disabled3=1,this.list3.push({name:"",disabled:0,is_add:!0})},keyup_3:function(t){if(t.name){t.is_add=!1;this.list3.push({name:"",disabled:0,is_add:!0})}else this.$message({type:"error",message:"你还没有输入分类名称"})},leval_3_sure:function(){var t=this;if(""!=this.list3[this.list3.length-1].name){for(var e=this.$coppyArray(this.centerList3),s=this.$coppyArray(this.list3),i=0;i<e.length;i++)for(var n=0;n<s.length;n++)s[n].id===e[i].id&&(s.splice(n,1),n--);var l={insertData:a()(s),pid:this.postData3.pid,attr_id:this.postData3.attr_id};this.$post(this.$attributeValueAdd,l).then(function(e){0==e.status_code&&(t.$message({type:"success",message:e.message}),t.ajaxjson_3(t.postData3))})}else{this.list3.splice(this.list3.length-1,1);var o=this.$coppyArray(this.centerList3),r=this.$coppyArray(this.list3);for(i=0;i<o.length;i++)for(n=0;n<r.length;n++)r[n].id===o[i].id&&(r.splice(n,1),n--);if(r.length>0){var d={insertData:a()(r),pid:this.postData3.pid,attr_id:this.postData3.attr_id};this.$post(this.$attributeValueAdd,d).then(function(e){0==e.status_code&&(t.$message({type:"success",message:e.message}),t.ajaxjson_3(t.postData3))})}}this.button_3=!0,this.disabled3=0},setSort:function(){var t=this,e=document.querySelectorAll(".el-table__body-wrapper > table > tbody")[0];this.sortable=l.a.create(e,{ghostClass:"sortable-ghost",setData:function(t){t.setData("Text","")},onEnd:function(e){var s=t.list.splice(e.oldIndex,1)[0];t.list.splice(e.newIndex,0,s);var i=t.newList.splice(e.oldIndex,1)[0];t.newList.splice(e.newIndex,0,i)}})},setSort2:function(){var t=this,e=document.querySelectorAll(".el-table__body-wrapper > table > tbody")[1];this.sortable=l.a.create(e,{ghostClass:"sortable-ghost",setData:function(t){t.setData("Text","")},onEnd:function(e){var s=t.list.splice(e.oldIndex,1)[0];t.list2.splice(e.newIndex,0,s);var i=t.newList.splice(e.oldIndex,1)[0];t.newList2.splice(e.newIndex,0,i)}})},setSort3:function(){var t=this,e=document.querySelectorAll(".el-table__body-wrapper > table > tbody")[2];this.sortable=l.a.create(e,{ghostClass:"sortable-ghost",setData:function(t){t.setData("Text","")},onEnd:function(e){var s=t.list.splice(e.oldIndex,1)[0];t.list3.splice(e.newIndex,0,s);var i=t.newList.splice(e.oldIndex,1)[0];t.newList3.splice(e.newIndex,0,i)}})}}},r=(s("PFoy"),s("ZrdR")),d=Object(r.a)(o,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("el-row",[s("el-radio-group",{staticStyle:{"margin-bottom":"15px"},on:{change:t.selectType},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[s("el-radio",{staticStyle:{"margin-right":"30px"},attrs:{label:1}},[t._v("销售属性")]),t._v(" "),s("el-radio",{attrs:{label:2}},[t._v("类目属性")])],1)],1),t._v(" "),s("el-row",[s("el-col",{staticStyle:{border:"1px solid #e6e6e6"},attrs:{span:8}},[s("el-row",{staticClass:"title"},[s("el-col",{attrs:{span:8}},[t.button_1?s("el-button",{directives:[{name:"show",rawName:"v-show",value:-1!=t.permission.indexOf("181"),expression:"permission.indexOf('181') != -1"}],staticStyle:{padding:"0px"},attrs:{type:"text",disabled:1==t.disabled1},on:{click:t.leval_1_add}},[s("svg-icon",{staticStyle:{"margin-right":"10px"},attrs:{"icon-class":"typeAdd"}})],1):s("el-button",{staticStyle:{"font-size":"15px",padding:"0px"},attrs:{type:"text"},on:{click:t.leval_1_sure}},[t._v("\n\t\t\t\t\t\t完成\n\t\t\t\t\t")])],1),t._v(" "),s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[t._v("\n\t\t\t\t\t一级分类\n\t\t\t\t")]),t._v(" "),s("el-col",{staticStyle:{"text-align":"right"},attrs:{span:8}},[1==t.button_delete1?s("el-button",{directives:[{name:"show",rawName:"v-show",value:-1!=t.permission.indexOf("183"),expression:"permission.indexOf('183') != -1"}],staticStyle:{padding:"0px"},attrs:{type:"text",disabled:1==t.disabled1},on:{click:t.leval_1_del}},[s("svg-icon",{staticStyle:{"margin-right":"10px"},attrs:{"icon-class":"typejian"}})],1):s("el-button",{staticStyle:{"font-size":"15px",padding:"0px"},attrs:{type:"text"},on:{click:t.leval_1_sure_delete}},[t._v("\n\t\t\t\t\t\t完成\n\t\t\t\t\t")])],1)],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:24}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"newTable",staticStyle:{width:"100%"},attrs:{data:t.list,"row-key":"id",fit:"","highlight-current-row":"",height:"500"},on:{"current-change":t.selectTable1}},[1==t.button_delete1?s("el-table-column",{attrs:{align:"center",label:"禁用",width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return 1==t.button_delete1?[s("el-switch",{directives:[{name:"show",rawName:"v-show",value:-1!=t.permission.indexOf("182"),expression:"permission.indexOf('182') != -1"}],on:{change:function(s){t.switchChange_1(e.row)}},model:{value:!e.row.disabled,callback:function(s){t.$set(e.row,"disabled?false:true",s)},expression:"scope.row.disabled?false:true"}})]:void 0}}])}):t._e(),t._v(" "),0==t.button_delete1?s("el-table-column",{attrs:{align:"center",label:"删除",width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return 0==t.button_delete1?[s("el-button",{staticStyle:{padding:"0px !important"},attrs:{type:"text",size:"mini"},on:{click:function(s){t.delete1(e.row.id)}}},[s("svg-icon",{attrs:{"icon-class":"icon_reduce"}})],1)]:void 0}}])}):t._e(),t._v(" "),s("el-table-column",{attrs:{label:"Title"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.is_add?s("el-input",{attrs:{placeholder:"请输入"},nativeOn:{keyup:function(s){if(!("button"in s)&&t._k(s.keyCode,"enter",13,s.key,"Enter"))return null;t.keyup_1(e.row)}},model:{value:e.row.name,callback:function(s){t.$set(e.row,"name",s)},expression:"scope.row.name"}}):s("span",[t._v(t._s(e.row.name))])]}}])})],1)],1)],1)],1),t._v(" "),s("el-col",{staticStyle:{border:"1px solid #e6e6e6"},attrs:{span:8}},[s("el-row",{staticClass:"title"},[s("el-col",{attrs:{span:8}},[t.button_2?s("el-button",{directives:[{name:"show",rawName:"v-show",value:-1!=t.permission.indexOf("185"),expression:"permission.indexOf('185') != -1"}],staticStyle:{padding:"0px"},attrs:{type:"text",disabled:1==t.disabled2},on:{click:t.leval_2_add}},[s("svg-icon",{staticStyle:{"margin-right":"10px"},attrs:{"icon-class":"typeAdd"}})],1):s("el-button",{staticStyle:{"font-size":"15px",padding:"0px"},attrs:{type:"text"},on:{click:t.leval_2_sure}},[t._v("\n\t\t\t\t\t\t完成\n\t\t\t\t\t")])],1),t._v(" "),s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[t._v("\n\t\t\t\t\t二级分类\n\t\t\t\t")]),t._v(" "),s("el-col",{staticStyle:{"text-align":"right"},attrs:{span:8}},[1==t.button_delete2?s("el-button",{directives:[{name:"show",rawName:"v-show",value:-1!=t.permission.indexOf("187"),expression:"permission.indexOf('187') != -1"}],staticStyle:{padding:"0px"},attrs:{type:"text",disabled:1==t.disabled2},on:{click:t.leval_2_del}},[s("svg-icon",{staticStyle:{"margin-right":"10px"},attrs:{"icon-class":"typejian"}})],1):s("el-button",{staticStyle:{"font-size":"15px",padding:"0px"},attrs:{type:"text"},on:{click:t.leval_2_sure_delete}},[t._v("\n\t\t\t\t\t\t完成\n\t\t\t\t\t")])],1)],1),t._v(" "),s("el-row",[s("el-col",{attrs:{id:"table2",span:24}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"newTable",staticStyle:{width:"100%"},attrs:{data:t.list2,"row-key":"id",fit:"","highlight-current-row":"",height:"500"},on:{"current-change":t.selectTable2}},[1==t.button_delete2?s("el-table-column",{attrs:{align:"center",label:"禁用",width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return 1==t.button_delete2?[s("el-switch",{directives:[{name:"show",rawName:"v-show",value:-1!=t.permission.indexOf("186"),expression:"permission.indexOf('186') != -1"}],on:{change:function(s){t.switchChange_2(e.row)}},model:{value:!e.row.disabled,callback:function(s){t.$set(e.row,"disabled?false:true",s)},expression:"scope.row.disabled?false:true"}})]:void 0}}])}):t._e(),t._v(" "),0==t.button_delete2?s("el-table-column",{attrs:{align:"center",label:"删除",width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return 0==t.button_delete2?[s("el-button",{staticStyle:{padding:"0px !important"},attrs:{type:"text",size:"mini"},on:{click:function(s){t.delete2(e.row.id)}}},[s("svg-icon",{attrs:{"icon-class":"icon_reduce"}})],1)]:void 0}}])}):t._e(),t._v(" "),s("el-table-column",{attrs:{label:"Title"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.is_add?s("el-input",{attrs:{placeholder:"请输入"},nativeOn:{keyup:function(s){if(!("button"in s)&&t._k(s.keyCode,"enter",13,s.key,"Enter"))return null;t.keyup_2(e.row)}},model:{value:e.row.name,callback:function(s){t.$set(e.row,"name",s)},expression:"scope.row.name"}}):s("span",[t._v(t._s(e.row.name))])]}}])})],1)],1)],1)],1),t._v(" "),s("el-col",{staticStyle:{border:"1px solid #e6e6e6"},attrs:{span:8}},[s("el-row",{staticClass:"title"},[s("el-col",{attrs:{span:8}},[t.button_3?s("el-button",{staticStyle:{padding:"0px"},attrs:{type:"text",disabled:1==t.disabled3},on:{click:t.leval_3_add}},[s("svg-icon",{staticStyle:{"margin-right":"10px"},attrs:{"icon-class":"typeAdd"}})],1):s("el-button",{staticStyle:{"font-size":"15px",padding:"0px"},attrs:{type:"text"},on:{click:t.leval_3_sure}},[t._v("\n\t\t\t\t\t\t完成\n\t\t\t\t\t")])],1),t._v(" "),s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:8}},[t._v("\n\t\t\t\t\t三级分类\n\t\t\t\t")]),t._v(" "),s("el-col",{staticStyle:{"text-align":"right"},attrs:{span:8}},[1==t.button_delete3?s("el-button",{staticStyle:{padding:"0px"},attrs:{type:"text",disabled:1==t.disabled3},on:{click:t.leval_3_del}},[s("svg-icon",{staticStyle:{"margin-right":"10px"},attrs:{"icon-class":"typejian"}})],1):s("el-button",{staticStyle:{"font-size":"15px",padding:"0px"},attrs:{type:"text"},on:{click:t.leval_3_sure_delete}},[t._v("\n\t\t\t\t\t\t完成\n\t\t\t\t\t")])],1)],1),t._v(" "),s("el-row",[s("el-col",{attrs:{id:"table3",span:24}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"newTable",staticStyle:{width:"100%"},attrs:{data:t.list3,"row-key":"id",fit:"","highlight-current-row":"",height:"500"}},[1==t.button_delete3?s("el-table-column",{attrs:{align:"center",label:"禁用",width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return 1==t.button_delete3?[s("el-switch",{on:{change:function(s){t.switchChange_2(e.row)}},model:{value:!e.row.disabled,callback:function(s){t.$set(e.row,"disabled?false:true",s)},expression:"scope.row.disabled?false:true"}})]:void 0}}])}):t._e(),t._v(" "),0==t.button_delete3?s("el-table-column",{attrs:{align:"center",label:"删除",width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return 0==t.button_delete3?[s("el-button",{staticStyle:{padding:"0px !important"},attrs:{type:"text",size:"mini"},on:{click:function(s){t.delete3(e.row.id)}}},[s("svg-icon",{attrs:{"icon-class":"icon_reduce"}})],1)]:void 0}}])}):t._e(),t._v(" "),s("el-table-column",{attrs:{label:"Title"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.is_add?s("el-input",{attrs:{placeholder:"请输入"},nativeOn:{keyup:function(s){if(!("button"in s)&&t._k(s.keyCode,"enter",13,s.key,"Enter"))return null;t.keyup_3(e.row)}},model:{value:e.row.name,callback:function(s){t.$set(e.row,"name",s)},expression:"scope.row.name"}}):s("span",[t._v(t._s(e.row.name))])]}}])})],1)],1)],1)],1)],1)],1)},[],!1,null,"9dd02f8c",null);d.options.__file="specificationManagement.vue";e.default=d.exports},zUTD:function(t,e,s){}}]);